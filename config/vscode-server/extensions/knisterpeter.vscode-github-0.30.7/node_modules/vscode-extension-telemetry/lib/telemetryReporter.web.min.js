var po=Object.defineProperty;var vu=t=>po(t,"__esModule",{value:!0});var C=(t,e)=>()=>(t&&(e=t(t=0)),e);var hu=(t,e)=>{vu(t);for(var r in e)po(t,r,{get:e[r],enumerable:!0})};var go,vo=C(()=>{go={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}});var mt,Xe,Oe,Ie,zr,gt,Sr,Cr,Ln,Un,rr,_n=C(()=>{mt="function",Xe="object",Oe="undefined",Ie="prototype",zr="hasOwnProperty",gt=Object,Sr=gt[Ie],Cr=gt.assign,Ln=gt.create,Un=gt.defineProperty,rr=Sr[zr]});function ot(){return typeof globalThis!==Oe&&globalThis?globalThis:typeof self!==Oe&&self?self:typeof window!==Oe&&window?window:typeof global!==Oe&&global?global:null}function Ir(t){throw new TypeError(t)}function Dt(t){var e=Ln;if(e)return e(t);if(t==null)return{};var r=typeof t;r!==Xe&&r!==mt&&Ir("Object prototype may only be an Object:"+t);function n(){}return n[Ie]=t,new n}var Di=C(()=>{_n()});function H(t,e){typeof e!==mt&&e!==null&&Ir("Class extends value "+String(e)+" is not a constructor or null"),Ai(t,e);function r(){this.constructor=t}t[Ie]=e===null?Dt(e):(r[Ie]=e[Ie],new r)}var Rl,Ml,Su,yt,Ai,ho=C(()=>{_n();Di();Rl=(ot()||{}).Symbol,Ml=(ot()||{}).Reflect,Su=function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Sr[zr].call(e,i)&&(t[i]=e[i])}return t},yt=Cr||Su,Ai=function(t,e){return Ai=gt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[zr](i)&&(r[i]=n[i])},Ai(t,e)}});var xo=C(()=>{});var ne=C(()=>{_n();Di();ho();xo()});function jt(t,e){return t&&zn[At].hasOwnProperty.call(t,e)}function To(t){return t&&(t===zn[At]||t===Array[At])}function Ri(t){return To(t)||t===Function[At]}function nr(t){if(t){if(Vr)return Vr(t);var e=t[Iu]||t[At]||(t[On]?t[On][At]:null);if(e)return e}return null}function Bn(t,e){var r=[],n=zn.getOwnPropertyNames;if(n)r=n(t);else for(var i in t)typeof i=="string"&&jt(t,i)&&r.push(i);if(r&&r.length>0)for(var a=0;a<r.length;a++)e(r[a])}function Mi(t,e,r){return e!==On&&typeof t[e]===Hn&&(r||jt(t,e))}function Vn(t){throw new TypeError("DynamicProto: "+t)}function Tu(t){var e={};return Bn(t,function(r){!e[r]&&Mi(t,r,!1)&&(e[r]=t[r])}),e}function Li(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}function Eu(t,e,r,n){function i(s,u,l){var f=u[l];if(f[Ni]&&n){var m=s[jn]||{};m[Br]!==!1&&(f=(m[u[Tr]]||{})[l]||f)}return function(){return f.apply(s,arguments)}}var a={};Bn(r,function(s){a[s]=i(e,r,s)});for(var o=nr(t),c=[];o&&!Ri(o)&&!Li(c,o);)Bn(o,function(s){!a[s]&&Mi(o,s,!Vr)&&(a[s]=i(e,o,s))}),c.push(o),o=nr(o);return a}function wu(t,e,r,n){var i=null;if(t&&jt(r,Tr)){var a=t[jn]||{};if(i=(a[r[Tr]]||{})[e],i||Vn("Missing ["+e+"] "+Hn),!i[Fi]&&a[Br]!==!1){for(var o=!jt(t,e),c=nr(t),s=[];o&&c&&!Ri(c)&&!Li(s,c);){var u=c[e];if(u){o=u===n;break}s.push(c),c=nr(c)}try{o&&(t[e]=i),i[Fi]=1}catch(l){a[Br]=!1}}}return i}function Pu(t,e,r){var n=e[t];return n===r&&(n=nr(e)[t]),typeof n!==Hn&&Vn("["+t+"] is not a "+Hn),n}function bu(t,e,r,n,i){function a(s,u){var l=function(){var f=wu(this,u,s,l)||Pu(u,s,l);return f.apply(this,arguments)};return l[Ni]=1,l}if(!To(t)){var o=r[jn]=r[jn]||{},c=o[e]=o[e]||{};o[Br]!==!1&&(o[Br]=!!i),Bn(r,function(s){Mi(r,s,!1)&&r[s]!==n[s]&&(c[s]=r[s],delete r[s],(!jt(t,s)||t[s]&&!t[s][Ni])&&(t[s]=a(t,s)))})}}function Du(t,e){if(Vr)for(var r=[],n=nr(e);n&&!Ri(n)&&!Li(r,n);){if(n===t)return!0;r.push(n),n=nr(n)}return!1}function Ui(t,e){return jt(t,At)?t.name||e||So:((t||{})[On]||{}).name||e||So}function _i(t,e,r,n){jt(t,At)||Vn("theClass is an invalid class definition.");var i=t[At];Du(i,e)||Vn("["+Ui(t)+"] is not in class hierarchy of ["+Ui(e)+"]");var a=null;jt(i,Tr)?a=i[Tr]:(a=Cu+Ui(t,"_")+"$"+Io,Io++,i[Tr]=a);var o=_i[yo],c=!!o[ki];c&&n&&n[ki]!==void 0&&(c=!!n[ki]);var s=Tu(e),u=Eu(i,e,s,c);r(e,u);var l=!!Vr&&!!o[Co];l&&n&&(l=!!n[Co]),bu(i,a,e,s,l!==!1)}var On,At,Hn,jn,Ni,Tr,Cu,Fi,Br,yo,So,Iu,ki,Co,zn,Vr,Io,Au,W,Te=C(()=>{On="constructor",At="prototype",Hn="function",jn="_dynInstFuncs",Ni="_isDynProxy",Tr="_dynClass",Cu="_dynCls$",Fi="_dynInstChk",Br=Fi,yo="_dfOpts",So="_unknown_",Iu="__proto__",ki="useBaseInst",Co="setInstFuncs",zn=Object,Vr=zn.getPrototypeOf,Io=0;Au={setInstFuncs:!0,useBaseInst:!0};_i[yo]=Au;W=_i});var S,h,qr=C(()=>{(function(t){t[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING"})(S||(S={}));h={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Oi(t){return Sr.toString.call(t)}function Hi(t,e){return typeof t===e}function pe(t){return t===void 0||typeof t===Oe}function x(t){return t===null||pe(t)}function ji(t){return!x(t)}function Er(t,e){return t&&rr.call(t,e)}function st(t){return typeof t===Xe}function j(t){return typeof t===mt}function zt(t,e,r,n){n===void 0&&(n=!1);var i=!1;if(!x(t))try{x(t[Po])?x(t[wo])||(t[wo](Eo+e,r),i=!0):(t[Po](e,r,n),i=!0)}catch(a){}return i}function qn(t,e,r,n){if(n===void 0&&(n=!1),!x(t))try{x(t[Do])?x(t[bo])||t[bo](Eo+e,r):t[Do](e,r,n)}catch(i){}}function zi(t){var e=t,r=/([^\w\d_$])/g;return r.test(t)&&(e=t.replace(r,"_")),e}function Q(t,e){if(t)for(var r in t)rr.call(t,r)&&e.call(t,r,t[r])}function Bi(t,e){if(t&&e){var r=e.length,n=t.length;if(t===e)return!0;if(n>=r){for(var i=n-1,a=r-1;a>=0;a--){if(t[i]!=e[a])return!1;i--}return!0}}return!1}function Ee(t,e){return t&&e?t.indexOf(e)!==-1:!1}function wr(t){return Oi(t)==="[object Date]"}function Re(t){return Oi(t)==="[object Array]"}function Bt(t){return Oi(t)==="[object Error]"}function _(t){return typeof t=="string"}function ir(t){return typeof t=="number"}function Gr(t){return typeof t=="boolean"}function Me(t){if(wr(t)){var e=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function R(t,e,r){for(var n=t.length,i=0;i<n&&!(i in t&&e.call(r||t,t[i],i,t)===-1);i++);}function Nt(t,e,r){for(var n=t.length,i=r||0,a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++)if(a in t&&t[a]===e)return a;return-1}function Vt(t,e,r){for(var n=t.length,i=r||t,a=new Array(n),o=0;o<n;o++)o in t&&(a[o]=e.call(i,t[o],t));return a}function Kr(t,e,r){var n=t.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<n&&!(i in t);)i++;a=t[i++]}for(;i<n;)i in t&&(a=e(a,t[i],i,t)),i++;return a}function oe(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"")}function Qe(t){var e=typeof t;e!==mt&&(e!==Xe||t===null)&&Ir("objKeys called on non-object");var r=[];for(var n in t)t&&rr.call(t,n)&&r.push(n);if(Nu)for(var i=Vi.length,a=0;a<i;a++)t&&rr.call(t,Vi[a])&&r.push(Vi[a]);return r}function St(t,e,r,n){if(Ao)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),Ao(t,e,i),!0}catch(a){}return!1}function de(){var t=Date;return t.now?t.now():new t().getTime()}function G(t){return Bt(t)?t.name:""}function K(t,e,r,n,i){var a=r;return t&&(a=t[e],a!==r&&(!i||i(a))&&(!n||n(r))&&(a=r,t[e]=a)),a}function ge(t,e,r){var n;return t?(n=t[e],!n&&x(n)&&(n=pe(r)?{}:r,t[e]=n)):n=pe(r)?{}:r,n}function Gn(t){return!t}function Pr(t){return!!t}function Ae(t){throw new Error(t)}function Wr(t,e,r){if(t&&e&&t!==e&&st(t)&&st(e)){var n=function(a){if(_(a)){var o=e[a];j(o)?(!r||r(a,!0,e,t))&&(t[a]=function(c){return function(){var s=arguments;return e[c].apply(e,s)}}(a)):(!r||r(a,!1,e,t))&&(Er(t,a)&&delete t[a],St(t,a,function(){return e[a]},function(c){e[a]=c})||(t[a]=o))}};for(var i in e)n(i)}return t}function qi(t){return function(){function e(){var r=this;t&&Q(t,function(n,i){r[n]=i})}return e}()}function Kn(t){return t&&(t=gt(Cr?Cr({},t):t)),t}var Eo,wo,Po,bo,Do,Ao,of,sf,Nu,Vi,Le=C(()=>{ne();Eo="on",wo="attachEvent",Po="addEventListener",bo="detachEvent",Do="removeEventListener",Ao=Un,of=gt.freeze,sf=gt.seal;Nu=!{toString:null}.propertyIsEnumerable("toString"),Vi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function we(t){var e=ot();return e&&e[t]?e[t]:t===No&&ar()?window:null}function ar(){return Boolean(typeof window===Xe&&window)}function Ct(){return ar()?window:we(No)}function Wn(){return Boolean(typeof document===Xe&&document)}function Ne(){return Wn()?document:we(Fu)}function ko(){return Boolean(typeof navigator===Xe&&navigator)}function Ue(){return ko()?navigator:we(ku)}function Ro(){return Boolean(typeof history===Xe&&history)}function Xi(){return Ro()?history:we(Ru)}function et(t){if(t&&ju){var e=we("__mockLocation");if(e)return e}return typeof location===Xe&&location?location:we(Mu)}function Yi(){return typeof console!==Oe?console:we(Lu)}function Ye(){return we(Uu)}function vt(){return Boolean(typeof JSON===Xe&&JSON||we(Fo)!==null)}function Pe(){return vt()?JSON||we(Fo):null}function $i(){return we(_u)}function Zi(){return we(Ou)}function Qi(){var t=Ue();return t&&t.product?t.product===Hu:!1}function qt(){var t=Ue();if(t&&(t.userAgent!==Ji||Wi===null)){Ji=t.userAgent;var e=(Ji||"").toLowerCase();Wi=Ee(e,Gi)||Ee(e,Ki)}return Wi}function or(t){if(t===void 0&&(t=null),!t){var e=Ue()||{};t=e?(e.userAgent||"").toLowerCase():""}var r=(t||"").toLowerCase();if(Ee(r,Gi))return parseInt(r.split(Gi)[1]);if(Ee(r,Ki)){var n=parseInt(r.split(Ki)[1]);if(n)return n+4}return null}function O(t){var e=Object[Ie].toString.call(t),r="";return e==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":vt()&&(r=Pe().stringify(t)),e+r}var No,Fu,ku,Ru,Mu,Lu,Uu,Fo,_u,Ou,Hu,Gi,Ki,Wi,Ji,ju,br=C(()=>{ne();Le();"use strict";No="window",Fu="document",ku="navigator",Ru="history",Mu="location",Lu="console",Uu="performance",Fo="JSON",_u="crypto",Ou="msCrypto",Hu="ReactNative",Gi="msie",Ki="trident/",Wi=null,Ji=null,ju=!1});function Mo(t){return t?'"'+t.replace(/\"/g,"")+'"':""}function kt(t,e){return(t||{}).logger||new Jn(e)}var zu,Bu,Vu,Ft,Jn,Xn=C(()=>{qr();br();Te();Le();"use strict";zu="AI (Internal): ",Bu="AI: ",Vu="AITR_";Ft=function(){function t(e,r,n,i){n===void 0&&(n=!1);var a=this;a.messageId=e,a.message=(n?Bu:zu)+e;var o="";vt()&&(o=Pe().stringify(i));var c=(r?" message:"+Mo(r):"")+(i?" props:"+Mo(o):"");a.message+=c}return t.dataType="MessageData",t}();Jn=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};W(t,this,function(i){x(e)&&(e={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(c,s,u,l,f){f===void 0&&(f=!1);var m=new Ft(s,u,f,l);if(i.enableDebugExceptions())throw m;if(!pe(m.message)){var I=i.consoleLoggingLevel();if(f){var E=+m.messageId;!n[E]&&I>=S.WARNING&&(i.warnToConsole(m.message),n[E]=!0)}else I>=S.WARNING&&i.warnToConsole(m.message);i.logInternalMessage(c,m)}},i.warnToConsole=function(c){var s=Yi();if(s){var u="log";s.warn&&(u="warn"),j(s[u])&&s[u](c)}},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(c,s){if(!o()){var u=!0,l=Vu+s.messageId;if(n[l]?u=!1:n[l]=!0,u&&(c<=i.telemetryLoggingLevel()&&(i.queue.push(s),r++),r===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",m=new Ft(h.MessageLimitPerPVExceeded,f,!1);i.queue.push(m),i.warnToConsole(f)}}};function a(c,s){var u=e[c];return x(u)?s:u}function o(){return r>=i.maxInternalMessageLimit()}})}return t}()});function ct(t,e,r,n,i){if(t){var a=t;if(j(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,c=a.getCtx(ea);try{if(o=a.create(e(),n,i),o){if(c&&o.setCtx&&(o.setCtx(sr.ParentContextKey,c),c.getCtx&&c.setCtx)){var s=c.getCtx(sr.ChildrenContextKey);s||(s=[],c.setCtx(sr.ChildrenContextKey,s)),s.push(o)}return a.setCtx(ea,o),r(o)}}catch(u){o&&o.setCtx&&o.setCtx("exception",u)}finally{o&&a.fire(o),a.setCtx(ea,c)}}}return r()}var Dr,sr,Jr,ea,Xr=C(()=>{Te();Le();Dr="ctx",sr=function(){function t(e,r,n){var i=this,a=!1;if(i.start=de(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return!1},j(r)){var o;a=St(i,"payload",function(){return!o&&j(r)&&(o=r(),r=null),o})}i.getCtx=function(c){return c?c===t.ParentContextKey||c===t.ChildrenContextKey?i[c]:(i[Dr]||{})[c]:null},i.setCtx=function(c,s){if(c)if(c===t.ParentContextKey)i[c]||(i.isChildEvt=function(){return!0}),i[c]=s;else if(c===t.ChildrenContextKey)i[c]=s;else{var u=i[Dr]=i[Dr]||{};u[c]=s}},i.complete=function(){var c=0,s=i.getCtx(t.ChildrenContextKey);if(Re(s))for(var u=0;u<s.length;u++){var l=s[u];l&&(c+=l.time)}i.time=de()-i.start,i.exTime=i.time-c,i.complete=function(){},!a&&j(r)&&(i.payload=r())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Jr=function(){function t(e){this.ctx={},W(t,this,function(r){r.create=function(n,i,a){return new sr(n,i,a)},r.fire=function(n){n&&(n.complete(),e&&e.perfEvent(n))},r.setCtx=function(n,i){if(n){var a=r[Dr]=r[Dr]||{};a[n]=i}},r.getCtx=function(n){return(r[Dr]||{})[n]}})}return t}(),ea="CoreUtils.doPerf"});var Lo,Uo=C(()=>{Xr();qr();Le();"use strict";Lo=function(){function t(e,r){var n=this,i=null,a=j(e.processTelemetry),o=j(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(c){i=c},n.processTelemetry=function(c,s){s||(s=r);var u=e?e.identifier:"TelemetryPluginChain";ct(s?s.core():null,function(){return u+":processTelemetry"},function(){if(e&&a){n._hasRun=!0;try{s.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(c,s)}catch(f){var l=i&&i._hasRun;(!i||!l)&&s.diagLog().throwInternal(S.CRITICAL,h.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+f),i&&!l&&i.processTelemetry(c,s)}}else i&&(n._hasRun=!0,i.processTelemetry(c,s))},function(){return{item:c}},!c.sync)}}return t}()});function ta(t,e){var r=[];if(t&&t.length>0)for(var n=null,i=0;i<t.length;i++){var a=t[i];if(a&&j(a.processTelemetry)){var o=new Lo(a,e);r.push(o),n&&n.setNext(o),n=o}}return r.length>0?r[0]:null}function qu(t,e,r){var n=[],i=!r;if(t)for(;t;){var a=t.getPlugin();(i||a===r)&&(i=!0,n.push(a)),t=t.getNext()}return i||n.push(r),ta(n,e)}function Gu(t,e,r){var n=t,i=!1;return r&&t&&(n=[],R(t,function(a){(i||a===r)&&(i=!0,n.push(a))})),r&&!i&&(n||(n=[]),n.push(r)),ta(n,e)}var Rt,Yn=C(()=>{Xn();Uo();Le();"use strict";Rt=function(){function t(e,r,n,i){var a=this,o=null;i!==null&&(e&&j(e.getPlugin)?o=qu(e,a,i||e.getPlugin()):i?o=Gu(e,a,i):pe(i)&&(o=ta(e,a))),a.core=function(){return n},a.diagLog=function(){return kt(n,r)},a.getCfg=function(){return r},a.getExtCfg=function(c,s){s===void 0&&(s={});var u;if(r){var l=r.extensionConfig;l&&c&&(u=l[c])}return u||s},a.getConfig=function(c,s,u){u===void 0&&(u=!1);var l,f=a.getExtCfg(c,null);return f&&!x(f[s])?l=f[s]:r&&!x(r[s])&&(l=r[s]),x(l)?u:l},a.hasNext=function(){return o!=null},a.getNext=function(){return o},a.setNext=function(c){o=c},a.processNext=function(c){var s=o;s&&(o=s.getNext(),s.processTelemetry(c,a))},a.createNew=function(c,s){return c===void 0&&(c=null),new t(c||o,r,n,s)}}return t}()});var _o,$n,ra=C(()=>{_o="iKey",$n="extensionConfig"});var Zn,tt,na=C(()=>{Yn();Le();ra();"use strict";Zn="getPlugin",tt=function(){function t(){var e=this,r=!1,n=null,i=null;e.core=null,e.diagLog=function(a){return e._getTelCtx(a).diagLog()},e.isInitialized=function(){return r},e.setInitialized=function(a){r=a},e.setNextPlugin=function(a){i=a},e.processNext=function(a,o){o?o.processNext(a):i&&j(i.processTelemetry)&&i.processTelemetry(a,null)},e._getTelCtx=function(a){a===void 0&&(a=null);var o=a;if(!o){var c=n||new Rt(null,{},e.core);i&&i[Zn]?o=c.createNew(null,i[Zn]):o=c.createNew(null,i)}return o},e._baseTelInit=function(a,o,c,s){a&&K(a,$n,[],null,x),!s&&o&&(s=o.getProcessTelContext().getNext());var u=i;i&&i[Zn]&&(u=i[Zn]()),e.core=o,n=new Rt(s,a,o,u),r=!0}}return t.prototype.initialize=function(e,r,n,i){this._baseTelInit(e,r,n,i)},t}()});function Yr(t,e){for(var r=[],n=null,i=t.getNext();i;){var a=i.getPlugin();a&&(n&&j(n[Ho])&&j(a[ia])&&n[Ho](a),(!j(a[jo])||!a[jo]())&&r.push(a),n=a,i=i.getNext())}R(r,function(o){o.initialize(t.getCfg(),t.core(),e,t.getNext())})}function aa(t){return t.sort(function(e,r){var n=0,i=j(r[ia]);return j(e[ia])?n=i?e[Oo]-r[Oo]:1:i&&(n=-1),n})}var ia,Oo,Ho,jo,oa=C(()=>{Le();"use strict";ia="processTelemetry",Oo="priority",Ho="setNextPlugin",jo="isInitialized"});var sa,Ku,zo,Bo=C(()=>{ne();Te();na();Yn();oa();Le();"use strict";sa=500,Ku="Channel has invalid priority",zo=function(t){H(e,t);function e(){var r=t.call(this)||this;r.identifier="ChannelControllerPlugin",r.priority=sa;var n;W(e,r,function(c,s){c.setNextPlugin=function(u){},c.processTelemetry=function(u,l){n&&R(n,function(f){if(f.length>0){var m=r._getTelCtx(l).createNew(f);m.processNext(u)}})},c.getChannelControls=function(){return n},c.initialize=function(u,l,f){c.isInitialized()||(s.initialize(u,l,f),o((u||{}).channels,f),R(n,function(m){return Yr(new Rt(m,u,l),f)}))}});function i(c){R(c,function(s){s.priority<sa&&Ae(Ku+s.identifier)})}function a(c){c&&c.length>0&&(c=c.sort(function(s,u){return s.priority-u.priority}),i(c),n.push(c))}function o(c,s){if(n=[],c&&R(c,function(l){return a(l)}),s){var u=[];R(s,function(l){l.priority>sa&&u.push(l)}),a(u)}}return r}return e._staticInit=function(){var r=e.prototype;St(r,"ChannelControls",r.getChannelControls),St(r,"channelQueue",r.getChannelControls)}(),e}(tt)});function pa(t,e){var r=ur[Gt]||ei[Gt];return r||(r=ur[Gt]=ur(t,e),ei[Gt]=r),r}function ti(t){return t?t.isEnabled():!0}function Wu(t){var e=t.cookieCfg=t.cookieCfg||{};if(K(e,"domain",t.cookieDomain,ji,x),K(e,"path",t.cookiePath||"/",null,x),x(e[la])){var r=void 0;pe(t[Go])||(r=!t[Go]),pe(t[Ko])||(r=!t[Ko]),e[la]=r}return e}function cr(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n[Gt]?r=n[Gt]:r=ur(e)}return r||(r=pa(e,(t||{}).logger)),r}function ur(t,e){var r=Wu(t||ei),n=r.path||"/",i=r.domain,a=r[la]!==!1,o={isEnabled:function(){var c=a&&da(e),s=ei[Gt];return c&&s&&o!==s&&(c=ti(s)),c},setEnabled:function(c){a=c!==!1},set:function(c,s,u,l,f){if(ti(o)){var m={},I=oe(s||ht),E=I.indexOf(";");if(E!==-1&&(I=oe(s.substring(0,E)),m=Xo(s.substring(E+1))),K(m,"domain",l||i,Pr,pe),!x(u)){var b=qt();if(pe(m[ua])){var p=de(),v=p+u*1e3;if(v>0){var y=new Date;y.setTime(v),K(m,ua,Yo(y,b?Vo:qo)||Yo(y,b?Vo:qo)||ht,Pr)}}b||K(m,"max-age",ht+u,null,pe)}var w=et();w&&w.protocol==="https:"&&(K(m,"secure",null,null,pe),fa===null&&(fa=!ri((Ue()||{}).userAgent)),fa&&K(m,"SameSite","None",null,pe)),K(m,"path",f||n,null,pe);var L=r.setCookie||Zo;L(c,$o(I,m))}},get:function(c){var s=ht;return ti(o)&&(s=(r.getCookie||Ju)(c)),s},del:function(c,s){ti(o)&&o.purge(c,s)},purge:function(c,s){if(da(e)){var u=(f={},f.path=s||"/",f[ua]="Thu, 01 Jan 1970 00:00:01 GMT",f);qt()||(u["max-age"]="0");var l=r.delCookie||Zo;l(c,$o(ht,u))}var f}};return o[Gt]=o,o}function da(t){if(Qn===null){Qn=!1;try{var e=$r||{};Qn=e[ca]!==void 0}catch(r){t&&t.throwInternal(S.WARNING,h.CannotAccessCookie,"Cannot access document.cookie - "+G(r),{exception:O(r)})}}return Qn}function Xo(t){var e={};if(t&&t.length){var r=oe(t).split(";");R(r,function(n){if(n=oe(n||ht),n){var i=n.indexOf("=");i===-1?e[n]=null:e[oe(n.substring(0,i))]=oe(n.substring(i+1))}})}return e}function Yo(t,e){return j(t[e])?t[e]():null}function $o(t,e){var r=t||ht;return Q(e,function(n,i){r+="; "+n+(x(i)?ht:"="+i)}),r}function Ju(t){var e=ht;if($r){var r=$r[ca]||ht;Wo!==r&&(Jo=Xo(r),Wo=r),e=oe(Jo[t]||ht)}return e}function Zo(t,e){$r&&($r[ca]=t+"="+e)}function ri(t){return _(t)?!!(Ee(t,"CPU iPhone OS 12")||Ee(t,"iPad; CPU OS 12")||Ee(t,"Macintosh; Intel Mac OS X 10_14")&&Ee(t,"Version/")&&Ee(t,"Safari")||Ee(t,"Macintosh; Intel Mac OS X 10_14")&&Bi(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ee(t,"Chrome/5")||Ee(t,"Chrome/6")||Ee(t,"UnrealEngine")&&!Ee(t,"Chrome")||Ee(t,"UCBrowser/12")||Ee(t,"UCBrowser/11")):!1}var Vo,qo,ca,ua,la,Go,Ko,Gt,ht,Qn,fa,Wo,$r,Jo,ei,ni=C(()=>{qr();br();Le();Vo="toGMTString",qo="toUTCString",ca="cookie",ua="expires",la="enabled",Go="isCookieUseDisabled",Ko="disableCookiesUsage",Gt="_ckMgr",ht="",Qn=null,fa=null,Wo=null,$r=Ne(),Jo={},ei={}});var Xu,Qo,Zr,ma=C(()=>{ne();Te();Bo();Yn();oa();Xr();ni();Le();ra();"use strict";Xu="Extensions must provide callback to initialize",Qo="_notificationManager",Zr=function(){function t(){var e=!1,r,n,i,a,o;W(t,this,function(c){c._extensions=new Array,n=new zo,c.logger=Dt({throwInternal:function(s,u,l,f,m){m===void 0&&(m=!1)},warnToConsole:function(s){},resetInternalMessageCount:function(){}}),r=[],c.isInitialized=function(){return e},c.initialize=function(s,u,l,f){c.isInitialized()&&Ae("Core should not be initialized more than once"),(!s||x(s.instrumentationKey))&&Ae("Please provide instrumentation key"),i=f,c[Qo]=f,c.config=s||{},s.extensions=x(s.extensions)?[]:s.extensions;var m=ge(s,$n);m.NotificationManager=f,l&&(c.logger=l);var I=[];I.push.apply(I,u.concat(s.extensions)),I=aa(I);var E=[],b=[],p={};R(I,function(v){(x(v)||x(v.initialize))&&Ae(Xu);var y=v.priority,w=v.identifier;v&&y&&(x(p[y])?p[y]=w:l.warnToConsole("Two extensions have same priority #"+y+" - "+p[y]+", "+w)),!y||y<n.priority?E.push(v):b.push(v)}),I.push(n),E.push(n),I=aa(I),c._extensions=I,Yr(new Rt([n],s,c),I),Yr(new Rt(E,s,c),I),c._extensions=E,c.getTransmissionControls().length===0&&Ae("No channels available"),e=!0,c.releaseQueue()},c.getTransmissionControls=function(){return n.getChannelControls()},c.track=function(s){K(s,_o,c.config.instrumentationKey,null,Gn),K(s,"time",Me(new Date),null,Gn),K(s,"ver","4.0",null,x),c.isInitialized()?c.getProcessTelContext().processNext(s):r.push(s)},c.getProcessTelContext=function(){var s=c._extensions,u=s;return(!s||s.length===0)&&(u=[n]),new Rt(u,c.config,c)},c.getNotifyMgr=function(){return i||(i=Dt({addNotificationListener:function(s){},removeNotificationListener:function(s){},eventsSent:function(s){},eventsDiscarded:function(s,u){},eventsSendRequest:function(s,u){}}),c[Qo]=i),i},c.getCookieMgr=function(){return o||(o=ur(c.config,c.logger)),o},c.setCookieMgr=function(s){o=s},c.getPerfMgr=function(){return a||c.config&&c.config.enablePerfMgr&&(a=new Jr(c.getNotifyMgr())),a},c.setPerfMgr=function(s){a=s},c.eventCnt=function(){return r.length},c.releaseQueue=function(){r.length>0&&(R(r,function(s){c.getProcessTelContext().processNext(s)}),r=[])}})}return t}()});var Qr,ga=C(()=>{Te();Le();Qr=function(){function t(e){this.listeners=[];var r=!!(e||{}).perfEvtsSendAll;W(t,this,function(n){n.addNotificationListener=function(i){n.listeners.push(i)},n.removeNotificationListener=function(i){for(var a=Nt(n.listeners,i);a>-1;)n.listeners.splice(a,1),a=Nt(n.listeners,i)},n.eventsSent=function(i){R(n.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},n.eventsDiscarded=function(i,a){R(n.listeners,function(o){o&&o.eventsDiscarded&&setTimeout(function(){return o.eventsDiscarded(i,a)},0)})},n.eventsSendRequest=function(i,a){R(n.listeners,function(o){if(o&&o.eventsSendRequest)if(a)setTimeout(function(){return o.eventsSendRequest(i,a)},0);else try{o.eventsSendRequest(i,a)}catch(c){}})},n.perfEvent=function(i){i&&(r||!i.isChildEvt())&&R(n.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(o){}})}})}return t}()});var en,es=C(()=>{ne();ma();vo();ga();Xr();Xn();Te();Le();en=function(t){H(e,t);function e(){var r=t.call(this)||this;return W(e,r,function(n,i){n.initialize=function(c,s,u,l){i.initialize(c,s,u||new Jn(c),l||new Qr(c))},n.track=function(c){ct(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){c===null&&(o(c),Ae("Invalid telemetry item")),a(c),i.track(c)},function(){return{item:c}},!c.sync)},n.addNotificationListener=function(c){var s=n.getNotifyMgr();s&&s.addNotificationListener(c)},n.removeNotificationListener=function(c){var s=n.getNotifyMgr();s&&s.removeNotificationListener(c)},n.pollInternalLogs=function(c){var s=n.config.diagnosticLogInterval;return(!s||!(s>0))&&(s=1e4),setInterval(function(){var u=n.logger?n.logger.queue:[];R(u,function(l){var f={name:c||"InternalMessageId: "+l.messageId,iKey:n.config.instrumentationKey,time:Me(new Date),baseType:Ft.dataType,baseData:{message:l.message}};n.track(f)}),u.length=0},s)};function a(c){if(x(c.name))throw o(c),Error("telemetry name required")}function o(c){var s=n.getNotifyMgr();s&&s.eventsDiscarded([c],go.InvalidEvent)}}),r}return e}(Zr)});function ns(t){t<0&&(t>>>=0),tn=123456789+t&Kt,rn=987654321-t&Kt,rs=!0}function is(){try{var t=de()&2147483647;ns((Math.random()*ts^t)+t)}catch(e){}}function ii(t){return t>0?Math.floor(It()/Kt*(t+1))>>>0:0}function It(t){var e,r=$i()||Zi();return r&&r.getRandomValues?e=r.getRandomValues(new Uint32Array(1))[0]&Kt:qt()?(rs||is(),e=ai()&Kt):e=Math.floor(ts*Math.random()|0),t||(e>>>=0),e}function va(t){t?ns(t):is()}function ai(t){rn=36969*(rn&65535)+(rn>>16)&Kt,tn=18e3*(tn&65535)+(tn>>16)&Kt;var e=(rn<<16)+(tn&65535)>>>0&Kt|0;return t||(e>>>=0),e}var ts,Kt,rs,tn,rn,ha=C(()=>{br();Le();ts=4294967296,Kt=4294967295,rs=!1,tn=123456789,rn=987654321});function Mt(t,e){var r=!1,n=Ct();n&&(r=zt(n,t,e),r=zt(n.body,t,e)||r);var i=Ne();return i&&(r=Jt.Attach(i,t,e)||r),r}function as(){function t(){return ii(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Yu,function(e){var r=t()|0,n=e==="x"?r:r&3|8;return n.toString(16)})}function os(){var t=Ye();return t&&t.now?t.now():de()}function Wt(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=It()>>>0,n=0,i="";i.length<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(It()<<2&4294967295|r&3)>>>0,n=0);return i}function He(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e="",r,n=0;n<4;n++)r=It(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(It()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}function Xt(t,e){var r=pa(t,e),n=on._canUseCookies;return nn===null&&(nn=[],an=n,St(on,"_canUseCookies",function(){return an},function(i){an=i,R(nn,function(a){a.setEnabled(i)})})),Nt(nn,r)===-1&&nn.push(r),Gr(n)&&r.setEnabled(n),Gr(an)&&r.setEnabled(an),r}function oi(){Xt().setEnabled(!1)}function xa(t){return Xt(null,t).isEnabled()}function ya(t,e){return Xt(null,t).get(e)}function Sa(t,e,r,n){Xt(null,t).set(e,r,null,n)}function Ca(t,e){return Xt(null,t).del(e)}var nn,an,on,Yu,Jt,ss=C(()=>{ne();ni();br();Le();ha();"use strict";nn=null;on={_canUseCookies:void 0,isTypeof:Hi,isUndefined:pe,isNullOrUndefined:x,hasOwnProperty:Er,isFunction:j,isObject:st,isDate:wr,isArray:Re,isError:Bt,isString:_,isNumber:ir,isBoolean:Gr,toISOString:Me,arrForEach:R,arrIndexOf:Nt,arrMap:Vt,arrReduce:Kr,strTrim:oe,objCreate:Dt,objKeys:Qe,objDefineAccessors:St,addEventHandler:Mt,dateNow:de,isIE:qt,disableCookies:oi,newGuid:as,perfNow:os,newId:Wt,randomValue:ii,random32:It,mwcRandomSeed:va,mwcRandom32:ai,generateW3CId:He},Yu=/[xy]/g,Jt={Attach:zt,AttachEvent:zt,Detach:qn,DetachEvent:qn}});function Ia(t,e){if(t)for(var r=0;r<t.length&&!e(t[r],r);r++);}function Ta(t,e,r,n,i){i>=0&&i<=2&&Ia(t,function(a,o){var c=a.cbks,s=c[us[i]];if(s){e.ctx=function(){var f=n[o]=n[o]||{};return f};try{s.apply(e.inst,r)}catch(f){var u=e.err;try{var l=c[us[2]];l&&(e.err=f,l.apply(e.inst,r))}catch(m){}finally{e.err=u}}}})}function Qu(t){return function(){var e=this,r=arguments,n=t.h,i={name:t.n,inst:e,ctx:null,set:s},a=[],o=c([i],r);function c(l,f){return Ia(f,function(m){l.push(m)}),l}function s(l,f){r=c([],r),r[l]=f,o=c([i],r)}Ta(n,i,o,a,0);var u=t.f;try{i.rslt=u.apply(e,r)}catch(l){throw i.err=l,Ta(n,i,o,a,3),l}return Ta(n,i,o,a,1),i.rslt}}function el(t){if(t){if(ls)return ls(t);var e=t[$u]||t[Ie]||t[Zu];if(e)return e}return null}function fs(t,e,r){var n=null;return t&&(Er(t,e)?n=t:r&&(n=fs(el(t),e,!1))),n}function Ea(t,e,r){return t?sn(t[Ie],e,r,!1):null}function sn(t,e,r,n){if(n===void 0&&(n=!0),t&&e&&r){var i=fs(t,e,n);if(i){var a=i[e];if(typeof a===mt){var o=a[cs];if(!o){o={i:0,n:e,f:a,h:[]};var c=Qu(o);c[cs]=o,i[e]=c}var s={id:o.i,cbks:r,rm:function(){var u=this.id;Ia(o.h,function(l,f){if(l.id===u)return o.h.splice(f,1),1})}};return o.i++,o.h.push(s),s}}}return null}var cs,us,$u,Zu,ls,ps=C(()=>{ne();Le();cs="_aiHooks",us=["req","rsp","hkErr","fnErr"],$u="__proto__",Zu="constructor";ls=Object.getPrototypeOf});var J=C(()=>{es();ma();na();ha();ss();Le();br();ne();ga();Xr();Xn();qr();ps();ni()});var te,wa=C(()=>{te={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function si(t,e,r){var n=e.length,i=Pa(t,e);if(i.length!==n){for(var a=0,o=i;r[o]!==void 0;)a++,o=i.substring(0,150-3)+ba(a);i=o}return i}function Pa(t,e){var r;return e&&(e=oe(e.toString()),e.length>150&&(r=e.substring(0,150),t.throwInternal(S.WARNING,h.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:e},!0))),r||e}function ae(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=oe(e),e.toString().length>r&&(n=e.toString().substring(0,r),t.throwInternal(S.WARNING,h.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:e},!0))),n||e}function Tt(t,e){return li(t,e,2048,h.UrlTooLong)}function Ar(t,e){var r;return e&&e.length>32768&&(r=e.substring(0,32768),t.throwInternal(S.WARNING,h.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:e},!0)),r||e}function ci(t,e){var r;if(e){var n=""+e;n.length>32768&&(r=n.substring(0,32768),t.throwInternal(S.WARNING,h.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:e},!0))}return r||e}function je(t,e){if(e){var r={};Q(e,function(n,i){if(st(i)&&vt())try{i=Pe().stringify(i)}catch(a){t.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=ae(t,i,8192),n=si(t,n,r),r[n]=i}),e=r}return e}function ze(t,e){if(e){var r={};Q(e,function(n,i){n=si(t,n,r),r[n]=i}),e=r}return e}function ui(t,e){return e&&li(t,e,128,h.IdTooLong).toString()}function li(t,e,r,n){var i;return e&&(e=oe(e),e.length>r&&(i=e.substring(0,r),t.throwInternal(S.WARNING,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},!0))),i||e}function ba(t){var e="00"+t;return e.substr(e.length-3)}var Da,ut=C(()=>{J();Da={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:si,sanitizeKey:Pa,sanitizeString:ae,sanitizeUrl:Tt,sanitizeMessage:Ar,sanitizeException:ci,sanitizeProperties:je,sanitizeMeasurements:ze,sanitizeId:ui,sanitizeInput:li,padNumber:ba,trim:oe}});function Lt(t){var e=null;if(j(Event))e=new Event(t);else{var r=Ne();r&&r.createEvent&&(e=r.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var Aa=C(()=>{J()});function ee(t,e){return e===void 0&&(e=!1),t==null?e:t.toString().toLowerCase()==="true"}function Ge(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=""+t%1e3,r=""+Math.floor(t/1e3)%60,n=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,a=Math.floor(t/(1e3*60*60*24));return e=e.length===1?"00"+e:e.length===2?"0"+e:e,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+n+":"+r+"."+e}function Nr(){var t=Ue();return"sendBeacon"in t&&t.sendBeacon}function cn(t,e){var r=null;return R(t,function(n){if(n.identifier===e)return r=n,-1}),r}function un(t,e,r,n,i){return!i&&_(t)&&(t==="Script error."||t==="Script error")}var ln=C(()=>{J()});var Et,lr,Ut,Fr,fn,le,lt=C(()=>{Et="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",lr="sampleRate",Ut="ProcessLegacy",Fr="http.method",fn="https://dc.services.visualstudio.com",le="not_specified"});var Yt,Ke,Na=C(()=>{(function(t){t[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage"})(Yt||(Yt={}));(function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C"})(Ke||(Ke={}))});function Fa(){return kr()?fi(Yt.LocalStorage):null}function fi(t){try{if(x(ot()))return null;var e=new Date,r=we(t===Yt.LocalStorage?"localStorage":"sessionStorage");r.setItem(e.toString(),e.toString());var n=r.getItem(e.toString())!==e.toString();if(r.removeItem(e.toString()),!n)return r}catch(i){}return null}function ka(){return wt()?fi(Yt.SessionStorage):null}function pn(){fr=!1,pr=!1}function kr(){return fr===void 0&&(fr=!!fi(Yt.LocalStorage)),fr}function dn(t,e){var r=Fa();if(r!==null)try{return r.getItem(e)}catch(n){fr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+G(n),{exception:O(n)})}return null}function mn(t,e,r){var n=Fa();if(n!==null)try{return n.setItem(e,r),!0}catch(i){fr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+G(i),{exception:O(i)})}return!1}function gn(t,e){var r=Fa();if(r!==null)try{return r.removeItem(e),!0}catch(n){fr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+G(n),{exception:O(n)})}return!1}function wt(){return pr===void 0&&(pr=!!fi(Yt.SessionStorage)),pr}function Ra(){var t=[];return wt()&&Q(we("sessionStorage"),function(e){t.push(e)}),t}function $t(t,e){var r=ka();if(r!==null)try{return r.getItem(e)}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+G(n),{exception:O(n)})}return null}function Zt(t,e,r){var n=ka();if(n!==null)try{return n.setItem(e,r),!0}catch(i){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+G(i),{exception:O(i)})}return!1}function vn(t,e){var r=ka();if(r!==null)try{return r.removeItem(e),!0}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+G(n),{exception:O(n)})}return!1}var fr,pr,Ma=C(()=>{J();Na();fr=void 0,pr=void 0});function dr(t){var e=ms,r=tl,n=r[e];return ds.createElement?r[e]||(n=r[e]=ds.createElement("a")):n={host:pi(t,!0)},n.href=t,e++,e>=r.length&&(e=0),ms=e,n}function hn(t){var e,r=dr(t);return r&&(e=r.href),e}function La(t){var e,r=dr(t);return r&&(e=r.pathname),e}function xn(t,e){return t?t.toUpperCase()+" "+e:e}function pi(t,e){var r=yn(t,e)||"";if(r){var n=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>3&&_(n[2])&&n[2].length>0)return n[2]+(n[3]||"")}return r}function yn(t,e){var r=null;if(t){var n=t.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>2&&_(n[2])&&n[2].length>0&&(r=n[2]||"",e&&n.length>2)){var i=(n[1]||"").toLowerCase(),a=n[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),r+=a}}return r}var ds,ms,tl,Ua=C(()=>{J();ds=Ne()||{},ms=0,tl=[null,null,null,null,null]});function Rr(t){return rl.indexOf(t.toLowerCase())!==-1}function gs(t,e,r,n){var i,a=n,o=n;if(e&&e.length>0){var c=dr(e);if(i=c.host,!a)if(c.pathname!=null){var s=c.pathname.length===0?"/":c.pathname;s.charAt(0)!=="/"&&(s="/"+s),o=c.pathname,a=ae(t,r?r+" "+s:s)}else a=ae(t,e)}else i=n,a=n;return{target:i,name:a,data:o}}function mr(){var t=Ye();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return de()}function ve(t,e){var r=null;return t!==0&&e!==0&&!x(t)&&!x(e)&&(r=e-t),r}var rl,Sn,_a,Pt,Oa,Ha=C(()=>{J();wa();ut();Aa();ln();lt();Ma();Ua();rl=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];Sn={NotSpecified:le,createDomEvent:Lt,disableStorage:pn,isInternalApplicationInsightsEndpoint:Rr,canUseLocalStorage:kr,getStorage:dn,setStorage:mn,removeStorage:gn,canUseSessionStorage:wt,getSessionStorageKeys:Ra,getSessionStorage:$t,setSessionStorage:Zt,removeSessionStorage:vn,disableCookies:oi,canUseCookies:xa,disallowsSameSiteNone:ri,setCookie:Sa,stringToBoolOrDefault:ee,getCookie:ya,deleteCookie:Ca,trim:oe,newId:Wt,random32:function(){return It(!0)},generateW3CId:He,isArray:Re,isError:Bt,isDate:wr,toISOStringForIE8:Me,getIEVersion:or,msToTimeSpan:Ge,isCrossOriginError:un,dump:O,getExceptionName:G,addEventHandler:zt,IsBeaconApiSupported:Nr,getExtension:cn},_a={parseUrl:dr,getAbsoluteUrl:hn,getPathName:La,getCompleteUrl:xn,parseHost:pi,parseFullHost:yn},Pt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(t,e,r){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t.correlationHeaderExcludePatterns){for(var n=0;n<t.correlationHeaderExcludePatterns.length;n++)if(t.correlationHeaderExcludePatterns[n].test(e))return!1}var i=dr(e).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(yn(e,!0)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&i&&i!==r)return!1;var a=t&&t.correlationHeaderDomains;if(a){var o;if(R(a,function(u){var l=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||l.test(i)}),!o)return!1}var c=t&&t.correlationHeaderExcludedDomains;if(!c||c.length===0)return!0;for(var n=0;n<c.length;n++){var s=new RegExp(c[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(s.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(t){if(t){var e=Pt.getCorrelationContextValue(t,te.requestContextTargetKey);if(e&&e!==Pt.correlationIdPrefix)return e}},getCorrelationContextValue:function(t,e){if(t)for(var r=t.split(","),n=0;n<r.length;++n){var i=r[n].split("=");if(i.length===2&&i[0]===e)return i[1]}}};Oa={Now:mr,GetDuration:ve}});function di(t){if(!t)return{};var e=t.split(nl),r=Kr(e,function(i,a){var o=a.split(il);if(o.length===2){var c=o[0].toLowerCase(),s=o[1];i[c]=s}return i},{});if(Qe(r).length>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+n+"dc."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||fn}return r}var nl,il,ja,vs=C(()=>{lt();J();nl=";",il="=";ja={parse:di}});var Cn,za=C(()=>{Cn=function(){function t(){}return t}()});var In,Ba=C(()=>{ne();za();In=function(t){H(e,t);function e(){return t.call(this)||this}return e}(Cn)});var hs,xs=C(()=>{hs=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}()});var Tn,ys=C(()=>{ne();xs();ut();J();lt();Tn=function(t){H(e,t);function e(r,n,i){var a=t.call(this)||this;return a.name=ae(r,i)||le,a.data=n,a.time=Me(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return e}(hs)});var mi,Va=C(()=>{mi=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var Be,Ss=C(()=>{ne();Va();ut();lt();Be=function(t){H(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=ae(r,n)||le,o.properties=je(r,i),o.measurements=ze(r,a),o}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(mi)});var Cs,Is=C(()=>{Cs=function(){function t(){}return t}()});var Ts,Es=C(()=>{Ts=function(){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return t}()});var ws,Ps=C(()=>{ws=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}()});function Ka(t,e){var r=t;return r&&!_(r)&&(JSON&&JSON.stringify?(r=JSON.stringify(t),e&&(!r||r==="{}")&&(j(t.toString)?r=t.toString():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||""}function As(t,e){var r=t;return t&&(r=t[Ga]||t[Ds]||"",r&&!_(r)&&(r=Ka(r,!0)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&(r||"").indexOf(e)===-1&&(r=e+": "+r),r||""}function ol(t){return st(t)?"hasFullStack"in t&&"typeName"in t:!1}function sl(t){return st(t)?"ver"in t&&"exceptions"in t&&"properties"in t:!1}function Ns(t){return t&&t.src&&_(t.src)&&t.obj&&Re(t.obj)}function Lr(t){var e=t||"";_(e)||(_(e[ft])?e=e[ft]:e=""+e);var r=e.split(`
`);return{src:e,obj:r}}function cl(t){for(var e=[],r=t.split(`
`),n=0;n<r.length;n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),e.push(i)}return{src:t,obj:e}}function Fs(t){var e=null;if(t)try{if(t[ft])e=Lr(t[ft]);else if(t[Mr]&&t[Mr][ft])e=Lr(t[Mr][ft]);else if(t.exception&&t.exception[ft])e=Lr(t.exception[ft]);else if(Ns(t))e=t;else if(Ns(t[qa]))e=t[qa];else if(window.opera&&t[Ga])e=cl(t.message);else if(_(t))e=Lr(t);else{var r=t[Ga]||t[Ds]||"";_(t[bs])&&(r&&(r+=`
`),r+=" from "+t[bs]),r&&(e=Lr(r))}}catch(n){e=Lr(n)}return e||{src:"",obj:null}}function ul(t){var e="";return t&&(t.obj?R(t.obj,function(r){e+=r+`
`}):e=t.src||""),e}function ll(t){var e,r=t.obj;if(r&&r.length>0){e=[];var n=0,i=0;R(r,function(E){var b=E.toString();if(Ja.regex.test(b)){var p=new Ja(b,n++);i+=p.sizeInBytes,e.push(p)}});var a=32*1024;if(i>a)for(var o=0,c=e.length-1,s=0,u=o,l=c;o<c;){var f=e[o].sizeInBytes,m=e[c].sizeInBytes;if(s+=f+m,s>a){var I=l-u+1;e.splice(u,I);break}u=o,l=c,o++,c--}}return e}function gi(t){var e="";if(t&&(e=t.typeName||t.name||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor.toString());e=n&&n.length>1?n[1]:""}catch(i){}return e}function Wa(t){if(t)try{if(!_(t)){var e=gi(t),r=Ka(t,!1);return(!r||r==="{}")&&(t[Mr]&&(t=t[Mr],e=gi(t)),r=Ka(t,!0)),r.indexOf(e)!==0&&e!=="String"?e+":"+r:r}}catch(n){}return""+(t||"")}var al,Mr,ft,qa,bs,Ga,Ds,he,ks,Ja,Rs=C(()=>{ne();Is();Es();Ps();ut();J();lt();al="<no_method>",Mr="error",ft="stack",qa="stackDetails",bs="errorSrc",Ga="message",Ds="description";he=function(t){H(e,t);function e(r,n,i,a,o,c){var s=t.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},sl(n)?(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,x(n.isManual)||(s.isManual=n.isManual)):(i||(i={}),s.exceptions=[new ks(r,n,i)],s.properties=je(r,i),s.measurements=ze(r,a),o&&(s.severityLevel=o),c&&(s.id=c)),s}return e.CreateAutoException=function(r,n,i,a,o,c,s,u){var l=gi(o||c||r);return{message:As(r,l),url:n,lineNumber:i,columnNumber:a,error:Wa(o||c||r),evt:Wa(c||r),typeName:l,stackDetails:Fs(s||o||c),errorSrc:u}},e.CreateFromInterface=function(r,n,i,a){var o=n.exceptions&&Vt(n.exceptions,function(s){return ks.CreateFromInterface(r,s)}),c=new e(r,yt({},n,{exceptions:o}),i,a);return c},e.prototype.toInterface=function(){var r=this,n=r.exceptions,i=r.properties,a=r.measurements,o=r.severityLevel,c=r.ver,s=r.problemGroup,u=r.id,l=r.isManual,f=n instanceof Array&&Vt(n,function(m){return m.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:o,properties:i,measurements:a,problemGroup:s,id:u,isManual:l}},e.CreateSimpleException=function(r,n,i,a,o,c){return{exceptions:[{hasFullStack:!0,message:r,stack:o,typeName:n}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Wa,e}(Ts),ks=function(t){H(e,t);function e(r,n,i){var a=t.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},ol(n))a.typeName=n.typeName,a.message=n.message,a[ft]=n[ft],a.parsedStack=n.parsedStack,a.hasFullStack=n.hasFullStack;else{var o=n,c=o&&o.evt;Bt(o)||(o=o[Mr]||c||o),a.typeName=ae(r,gi(o))||le,a.message=Ar(r,As(n||o,a.typeName))||le;var s=n[qa]||Fs(n);a.parsedStack=ll(s),a[ft]=ci(r,ul(s)),a.hasFullStack=Re(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return e.prototype.toInterface=function(){var r=this.parsedStack instanceof Array&&Vt(this.parsedStack,function(i){return i.toInterface()}),n={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[ft],parsedStack:r||void 0};return n},e.CreateFromInterface=function(r,n){var i=n.parsedStack instanceof Array&&Vt(n.parsedStack,function(o){return Ja.CreateFromInterface(o)})||n.parsedStack,a=new e(r,yt({},n,{parsedStack:i}));return a},e}(ws),Ja=function(t){H(e,t);function e(r,n){var i=t.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof r=="string"){var a=r;i.level=n,i.method=al,i.assembly=oe(a),i.fileName="",i.line=0;var o=a.match(e.regex);o&&o.length>=5&&(i.method=oe(o[2])||i.method,i.fileName=oe(o[4]),i.line=parseInt(o[5])||0)}else i.level=r.level,i.method=r.method,i.assembly=r.assembly,i.fileName=r.fileName,i.line=r.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=e.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return e.CreateFromInterface=function(r){return new e(r,null)},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(Cs)});var Ms,Ls=C(()=>{Ms=function(){function t(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return t}()});var vi,Us=C(()=>{(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(vi||(vi={}))});var _s,Os=C(()=>{Us();_s=function(){function t(){this.kind=vi.Measurement}return t}()});var Hs,js=C(()=>{ne();Os();Hs=function(t){H(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},r}return e}(_s)});var Ve,zs=C(()=>{ne();Ls();ut();js();lt();Ve=function(t){H(e,t);function e(r,n,i,a,o,c,s,u){var l=t.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new Hs;return f.count=a>0?a:void 0,f.max=isNaN(c)||c===null?void 0:c,f.min=isNaN(o)||o===null?void 0:o,f.name=ae(r,n)||le,f.value=i,l.metrics=[f],l.properties=je(r,s),l.measurements=ze(r,u),l}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(Ms)});var gr,hi=C(()=>{ne();Va();gr=function(t){H(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(mi)});var Fe,Bs=C(()=>{ne();hi();ut();ln();lt();Fe=function(t){H(e,t);function e(r,n,i,a,o,c,s){var u=t.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},u.id=ui(r,s),u.url=Tt(r,i),u.name=ae(r,n)||le,isNaN(a)||(u.duration=Ge(a)),u.properties=je(r,o),u.measurements=ze(r,c),u}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(gr)});var Vs,qs=C(()=>{Vs=function(){function t(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return t}()});var qe,Gs=C(()=>{ne();ut();Ha();qs();ln();qe=function(t){H(e,t);function e(r,n,i,a,o,c,s,u,l,f,m,I){l===void 0&&(l="Ajax");var E=t.call(this)||this;E.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},E.id=n,E.duration=Ge(o),E.success=c,E.resultCode=s+"",E.type=ae(r,l);var b=gs(r,i,u,a);return E.data=Tt(r,a)||b.data,E.target=ae(r,b.target),f&&(E.target=E.target+" | "+f),E.name=ae(r,b.name),E.properties=je(r,m),E.measurements=ze(r,I),E}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(Vs)});var Ks,Ws=C(()=>{Ks=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var $e,Js=C(()=>{ne();Ws();ut();lt();$e=function(t){H(e,t);function e(r,n,i,a,o){var c=t.call(this)||this;return c.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||le,c.message=Ar(r,n),c.properties=je(r,a),c.measurements=ze(r,o),i&&(c.severityLevel=i),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(Ks)});var Xs,Ys=C(()=>{ne();hi();Xs=function(t){H(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(gr)});var Ze,$s=C(()=>{ne();Ys();ut();lt();Ze=function(t){H(e,t);function e(r,n,i,a,o,c,s){var u=t.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},u.url=Tt(r,i),u.name=ae(r,n)||le,u.properties=je(r,o),u.measurements=ze(r,c),s&&(u.domProcessing=s.domProcessing,u.duration=s.duration,u.networkConnect=s.networkConnect,u.perfTotal=s.perfTotal,u.receivedResponse=s.receivedResponse,u.sentRequest=s.sentRequest),u}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(Xs)});var xt,Zs=C(()=>{ne();Ba();xt=function(t){H(e,t);function e(r,n){var i=t.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=r,i.baseData=n,i}return e}(In)});var _t,Qs=C(()=>{(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(_t||(_t={}))});var Xa,ec=C(()=>{J();Xa=function(){function t(){}return t.getConfig=function(e,r,n,i){i===void 0&&(i=!1);var a;return n&&e.extensionConfig&&e.extensionConfig[n]&&!x(e.extensionConfig[n][r])?a=e.extensionConfig[n][r]:a=e[r],x(a)?i:a},t}()});function Qt(t){var e="ai."+t+".";return function(r){return e+r}}var En,be,xi,Ur,Ya,er,vr,wn,hr,$a=C(()=>{ne();J();En=Qt("application"),be=Qt("device"),xi=Qt("location"),Ur=Qt("operation"),Ya=Qt("session"),er=Qt("user"),vr=Qt("cloud"),wn=Qt("internal"),hr=function(t){H(e,t);function e(){return t.call(this)||this}return e}(qi({applicationVersion:En("ver"),applicationBuild:En("build"),applicationTypeId:En("typeId"),applicationId:En("applicationId"),applicationLayer:En("layer"),deviceId:be("id"),deviceIp:be("ip"),deviceLanguage:be("language"),deviceLocale:be("locale"),deviceModel:be("model"),deviceFriendlyName:be("friendlyName"),deviceNetwork:be("network"),deviceNetworkName:be("networkName"),deviceOEMName:be("oemName"),deviceOS:be("os"),deviceOSVersion:be("osVersion"),deviceRoleInstance:be("roleInstance"),deviceRoleName:be("roleName"),deviceScreenResolution:be("screenResolution"),deviceType:be("type"),deviceMachineName:be("machineName"),deviceVMName:be("vmName"),deviceBrowser:be("browser"),deviceBrowserVersion:be("browserVersion"),locationIp:xi("ip"),locationCountry:xi("country"),locationProvince:xi("province"),locationCity:xi("city"),operationId:Ur("id"),operationName:Ur("name"),operationParentId:Ur("parentId"),operationRootId:Ur("rootId"),operationSyntheticSource:Ur("syntheticSource"),operationCorrelationVector:Ur("correlationVector"),sessionId:Ya("id"),sessionIsFirst:Ya("isFirst"),sessionIsNew:Ya("isNew"),userAccountAcquisitionDate:er("accountAcquisitionDate"),userAccountId:er("accountId"),userAgent:er("userAgent"),userId:er("id"),userStoreRegion:er("storeRegion"),userAuthUserId:er("authUserId"),userAnonymousUserAcquisitionDate:er("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:er("authUserAcquisitionDate"),cloudName:vr("name"),cloudRole:vr("role"),cloudRoleVer:vr("roleVer"),cloudRoleInstance:vr("roleInstance"),cloudEnvironment:vr("environment"),cloudLocation:vr("location"),cloudDeploymentUnit:vr("deploymentUnit"),internalNodeName:wn("nodeName"),internalSdkVersion:wn("sdkVersion"),internalAgentVersion:wn("agentVersion"),internalSnippet:wn("snippet"),internalSdkSrc:wn("sdkSrc")}))});var rt,tc=C(()=>{ut();J();lt();rt=function(){function t(){}return t.create=function(e,r,n,i,a,o){if(n=ae(i,n)||le,x(e)||x(r)||x(n))throw Error("Input doesn't contain all required fields");var c={name:n,time:Me(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:r,baseData:e};return x(a)||Q(a,function(s,u){c.data[s]=u}),c},t}()});var _e,re,rc=C(()=>{$a();_e={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},re=new hr});var Ot,_r,yi,xe=C(()=>{Ha();vs();wa();lt();Ba();za();ys();Ss();Rs();zs();Bs();hi();Gs();Js();$s();Zs();Qs();ec();$a();ut();tc();rc();Na();ln();Aa();Ma();Ua();Ot="AppInsightsPropertiesPlugin",_r="AppInsightsChannelPlugin",yi="ApplicationInsightsAnalytics"});var nc,ic=C(()=>{xe();J();Te();nc=function(){function t(e,r,n,i){W(t,this,function(a){var o=null,c=[],s=!1,u;n&&(u=n.logger);function l(){n&&R(n.getTransmissionControls(),function(m){R(m,function(I){return I.flush(!0)})})}function f(m){c.push(m),o||(o=setInterval(function(){var I=c.slice(0),E=!1;c=[],R(I,function(b){b()?E=!0:c.push(b)}),c.length===0&&(clearInterval(o),o=null),E&&l()},100))}a.trackPageView=function(m,I){var E=m.name;if(x(E)||typeof E!="string"){var b=Ne();E=m.name=b&&b.title||""}var p=m.uri;if(x(p)||typeof p!="string"){var v=et();p=m.uri=v&&v.href||""}if(!i.isPerformanceTimingSupported()){e.sendPageViewInternal(m,I),l(),u.throwInternal(S.WARNING,h.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var y=!1,w,L=i.getPerformanceTiming().navigationStart;L>0&&(w=ve(L,+new Date),i.shouldCollectDuration(w)||(w=void 0));var F;!x(I)&&!x(I.duration)&&(F=I.duration),(r||!isNaN(F))&&(isNaN(F)&&(I||(I={}),I.duration=w),e.sendPageViewInternal(m,I),l(),y=!0);var Y=6e4;I||(I={}),f(function(){var Se=!1;try{if(i.isPerformanceTimingDataReady()){Se=!0;var X={name:E,uri:p};i.populatePageViewPerformanceEvent(X),!X.isValid&&!y?(I.duration=w,e.sendPageViewInternal(m,I)):(y||(I.duration=X.durationMs,e.sendPageViewInternal(m,I)),s||(e.sendPageViewPerformanceInternal(X,I),s=!0))}else L>0&&ve(L,+new Date)>Y&&(Se=!0,y||(I.duration=Y,e.sendPageViewInternal(m,I)))}catch(me){u.throwInternal(S.CRITICAL,h.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+G(me),{exception:O(me)})}return Se})}})}return t}()});var ac,fl,oc=C(()=>{xe();J();ac=function(){function t(e,r){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=r,this._logger=e}return t.prototype.trackPreviousPageVisit=function(e,r){try{var n=this.restartPageVisitTimer(e,r);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+O(i))}},t.prototype.restartPageVisitTimer=function(e,r){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,r),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+O(i)),null}},t.prototype.startPageVisitTimer=function(e,r){try{if(wt()){$t(this._logger,this.prevPageVisitDataKeyName)!=null&&Ae("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new fl(e,r),i=Pe().stringify(n);Zt(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+O(a))}},t.prototype.stopPageVisitTimer=function(){try{if(wt()){var e=de(),r=$t(this._logger,this.prevPageVisitDataKeyName);if(r&&vt()){var n=Pe().parse(r);return n.pageVisitTime=e-n.pageVisitStartTime,vn(this._logger,this.prevPageVisitDataKeyName),n}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+O(i)),null}},t}(),fl=function(){function t(e,r){this.pageVisitStartTime=de(),this.pageName=e,this.pageUrl=r}return t}()});var sc,cc=C(()=>{xe();J();sc=function(){function t(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return t.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var r=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,a=0,o=0,c=0,s=0;(r||n)&&(r?(i=r.duration,a=r.startTime===0?r.connectEnd:ve(r.startTime,r.connectEnd),o=ve(r.requestStart,r.responseStart),c=ve(r.responseStart,r.responseEnd),s=ve(r.responseEnd,r.loadEventEnd)):(i=ve(n.navigationStart,n.loadEventEnd),a=ve(n.navigationStart,n.connectEnd),o=ve(n.requestStart,n.responseStart),c=ve(n.responseStart,n.responseEnd),s=ve(n.responseEnd,n.loadEventEnd)),i===0?this._logger.throwInternal(S.WARNING,h.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:o,response:c,dom:s}):this.shouldCollectDuration(i,a,o,c,s)?i<Math.floor(a)+Math.floor(o)+Math.floor(c)+Math.floor(s)?this._logger.throwInternal(S.WARNING,h.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:o,response:c,dom:s}):(e.durationMs=i,e.perfTotal=e.duration=Ge(i),e.networkConnect=Ge(a),e.sentRequest=Ge(o),e.receivedResponse=Ge(c),e.domProcessing=Ge(s),e.isValid=!0):this._logger.throwInternal(S.WARNING,h.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:o,response:c,dom:s}))},t.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ye().timing:null},t.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ye().getEntriesByType("navigation")[0]:null},t.prototype.isPerformanceNavigationTimingSupported=function(){var e=Ye();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},t.prototype.isPerformanceTimingSupported=function(){var e=Ye();return e&&e.timing},t.prototype.isPerformanceTimingDataReady=function(){var e=Ye(),r=e?e.timing:0;return r&&r.domainLookupStart>0&&r.navigationStart>0&&r.responseStart>0&&r.requestStart>0&&r.loadEventEnd>0&&r.responseEnd>0&&r.connectEnd>0&&r.domLoading>0},t.prototype.shouldCollectDuration=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Ue()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=n.userAgent,o=!1;if(a)for(var c=0;c<i.length;c++)o=o||a.toLowerCase().indexOf(i[c])!==-1;if(o)return!1;for(var c=0;c<e.length;c++)if(e[c]<0||e[c]>=this.MAX_DURATION_ALLOWED)return!1;return!0},t}()});function Pn(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}var uc,Za,bn,lc,fc=C(()=>{ne();xe();J();ic();oc();cc();Te();uc="duration",Za="event";bn=function(t){H(e,t);function e(){var r=t.call(this)||this;r.identifier=yi,r.priority=180,r.autoRoutePVDelay=500;var n,i,a,o=0,c,s;return W(e,r,function(u,l){var f=et(!0);c=f&&f.href||"",u.getCookieMgr=function(){return cr(u.core)},u.processTelemetry=function(p,v){ct(u.core,function(){return u.identifier+":processTelemetry"},function(){var y=!1,w=u._telemetryInitializers.length;v=u._getTelCtx(v);for(var L=0;L<w;++L){var F=u._telemetryInitializers[L];if(F)try{if(F.apply(null,[p])===!1){y=!0;break}}catch(Y){v.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(Y),{exception:O(Y)},!0)}}y||u.processNext(p,v)},function(){return{item:p}},!p.sync)},u.trackEvent=function(p,v){try{var y=rt.create(p,Be.dataType,Be.envelopeType,u.diagLog(),v);u.core.track(y)}catch(w){u.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},u.startTrackEvent=function(p){try{n.start(p)}catch(v){u.diagLog().throwInternal(S.CRITICAL,h.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+G(v),{exception:O(v)})}},u.stopTrackEvent=function(p,v,y){try{n.stop(p,void 0,v)}catch(w){u.diagLog().throwInternal(S.CRITICAL,h.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+G(w),{exception:O(w)})}},u.trackTrace=function(p,v){try{var y=rt.create(p,$e.dataType,$e.envelopeType,u.diagLog(),v);u.core.track(y)}catch(w){u.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},u.trackMetric=function(p,v){try{var y=rt.create(p,Ve.dataType,Ve.envelopeType,u.diagLog(),v);u.core.track(y)}catch(w){u.diagLog().throwInternal(S.CRITICAL,h.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+G(w),{exception:O(w)})}},u.trackPageView=function(p,v){try{var y=p||{};u._pageViewManager.trackPageView(y,yt({},y.properties,y.measurements,v)),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(y.name,y.uri)}catch(w){u.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageView failed, page view will not be collected: "+G(w),{exception:O(w)})}},u.sendPageViewInternal=function(p,v,y){var w=Ne();w&&(p.refUri=p.refUri===void 0?w.referrer:p.refUri);var L=rt.create(p,Fe.dataType,Fe.envelopeType,u.diagLog(),v,y);u.core.track(L),o=0},u.sendPageViewPerformanceInternal=function(p,v,y){var w=rt.create(p,Ze.dataType,Ze.envelopeType,u.diagLog(),v,y);u.core.track(w)},u.trackPageViewPerformance=function(p,v){try{u._pageViewPerformanceManager.populatePageViewPerformanceEvent(p),u.sendPageViewPerformanceInternal(p,v)}catch(y){u.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+G(y),{exception:O(y)})}},u.startTrackPage=function(p){try{if(typeof p!="string"){var v=Ne();p=v&&v.title||""}i.start(p)}catch(y){u.diagLog().throwInternal(S.CRITICAL,h.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+G(y),{exception:O(y)})}},u.stopTrackPage=function(p,v,y,w){try{if(typeof p!="string"){var L=Ne();p=L&&L.title||""}if(typeof v!="string"){var F=et();v=F&&F.href||""}i.stop(p,v,y,w),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(p,v)}catch(Y){u.diagLog().throwInternal(S.CRITICAL,h.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+G(Y),{exception:O(Y)})}},u.sendExceptionInternal=function(p,v,y){var w=p.exception||p.error||new Error(le),L=new he(u.diagLog(),w,p.properties||v,p.measurements,p.severityLevel,p.id).toInterface(),F=rt.create(L,he.dataType,he.envelopeType,u.diagLog(),v,y);u.core.track(F)},u.trackException=function(p,v){try{u.sendExceptionInternal(p,v)}catch(y){u.diagLog().throwInternal(S.CRITICAL,h.TrackExceptionFailed,"trackException failed, exception will not be collected: "+G(y),{exception:O(y)})}},u._onerror=function(p){var v=p&&p.error,y=p&&p.evt;try{if(!y){var w=Ct();w&&(y=w[Za])}var L=p&&p.url||(Ne()||{}).URL,F=p.errorSrc||"window.onerror@"+L+":"+(p.lineNumber||0)+":"+(p.columnNumber||0),Y={errorSrc:F,url:L,lineNumber:p.lineNumber||0,columnNumber:p.columnNumber||0,message:p.message};un(p.message,p.url,p.lineNumber,p.columnNumber,p.error)?b(he.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",L,p.lineNumber||0,p.columnNumber||0,v,y,null,F),Y):(p.errorSrc||(p.errorSrc=F),u.trackException({exception:p,severityLevel:_t.Error},Y))}catch(X){var Se=v?v.name+", "+v.message:"null";u.diagLog().throwInternal(S.CRITICAL,h.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+G(X),{exception:O(X),errorString:Se})}},u.addTelemetryInitializer=function(p){u._telemetryInitializers.push(p)},u.initialize=function(p,v,y,w){if(!u.isInitialized()){if(x(v))throw Error("Error initializing");l.initialize(p,v,y,w),u.setInitialized(!1);var L=u._getTelCtx(),F=u.identifier;u.config=L.getExtCfg(F);var Y=e.getDefaultConfig(p);Y!==void 0&&Q(Y,function(D,z){u.config[D]=L.getConfig(F,D,z),u.config[D]===void 0&&(u.config[D]=z)}),u.config.isStorageUseDisabled&&pn();var Se={instrumentationKey:function(){return p.instrumentationKey},accountId:function(){return u.config.accountId||p.accountId},sessionRenewalMs:function(){return u.config.sessionRenewalMs||p.sessionRenewalMs},sessionExpirationMs:function(){return u.config.sessionExpirationMs||p.sessionExpirationMs},sampleRate:function(){return u.config.samplingPercentage||p.samplingPercentage},sdkExtension:function(){return u.config.sdkExtension||p.sdkExtension},isBrowserLinkTrackingEnabled:function(){return u.config.isBrowserLinkTrackingEnabled||p.isBrowserLinkTrackingEnabled},appId:function(){return u.config.appId||p.appId}};u._pageViewPerformanceManager=new sc(u.core),u._pageViewManager=new nc(r,u.config.overridePageViewDuration,u.core,u._pageViewPerformanceManager),u._pageVisitTimeManager=new ac(u.diagLog(),function(D,z,U){return m(D,z,U)}),u._telemetryInitializers=u._telemetryInitializers||[],I(Se),n=new lc(u.diagLog(),"trackEvent"),n.action=function(D,z,U,q){q||(q={}),q[uc]=U.toString(),u.trackEvent({name:D,properties:q})},i=new lc(u.diagLog(),"trackPageView"),i.action=function(D,z,U,q,$){x(q)&&(q={}),q[uc]=U.toString();var ie={name:D,uri:z,properties:q,measurements:$};u.sendPageViewInternal(ie,q)};var X=Ct(),me=Xi(),De=et(!0),pt=r;if(u.config.disableExceptionTracking===!1&&!u.config.autoExceptionInstrumented&&X){var at="onerror",dt=X[at];X.onerror=function(D,z,U,q,$){var ie=X[Za],Ht=dt&&dt(D,z,U,q,$);return Ht!==!0&&pt._onerror(he.CreateAutoException(D,z,U,q,$,ie)),Ht},u.config.autoExceptionInstrumented=!0}if(u.config.disableExceptionTracking===!1&&u.config.enableUnhandledPromiseRejectionTracking===!0&&!u.config.autoUnhandledPromiseInstrumented&&X){var d="onunhandledrejection",T=X[d];X[d]=function(D){var z=X[Za],U=T&&T.call(X,D);return U!==!0&&pt._onerror(he.CreateAutoException(D.reason.toString(),De?De.href:"",0,0,D,z)),U},u.config.autoUnhandledPromiseInstrumented=!0}if(u.config.enableAutoRouteTracking===!0&&me&&j(me.pushState)&&j(me.replaceState)&&X&&typeof Event!="undefined"){var A=r;R(y,function(D){D.identifier===Ot&&(a=D)}),me.pushState=function(D){return function(){var U=D.apply(this,arguments);return Pn(X,Lt(A.config.namePrefix+"pushState")),Pn(X,Lt(A.config.namePrefix+"locationchange")),U}}(me.pushState),me.replaceState=function(D){return function(){var U=D.apply(this,arguments);return Pn(X,Lt(A.config.namePrefix+"replaceState")),Pn(X,Lt(A.config.namePrefix+"locationchange")),U}}(me.replaceState),X.addEventListener&&(X.addEventListener(A.config.namePrefix+"popstate",function(){Pn(X,Lt(A.config.namePrefix+"locationchange"))}),X.addEventListener(A.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=He();var D="_unknown_";De&&De.pathname&&(D=De.pathname+(De.hash||"")),a.context.telemetryTrace.name=D}s&&(c=s),s=De&&De.href||"",setTimeout(function(z){A.trackPageView({refUri:z,properties:{duration:0}})}.bind(r,c),A.autoRoutePVDelay)}))}u.setInitialized(!0)}};function m(p,v,y){var w={PageName:p,PageUrl:v};u.trackMetric({name:"PageVisitTime",average:y,max:y,min:y,sampleCount:1},w)}function I(p){if(!p.isBrowserLinkTrackingEnabled()){var v=["/browserLinkSignalR/","/__browserLink/"],y=function(w){if(w.baseType===qe.dataType){var L=w.baseData;if(L){for(var F=0;F<v.length;F++)if(L.target&&L.target.indexOf(v[F])>=0)return!1}}return!0};E(y)}}function E(p){u._telemetryInitializers.push(p)}function b(p,v){var y=rt.create(p,he.dataType,he.envelopeType,u.diagLog(),v);u.core.track(y)}}),r}return e.getDefaultConfig=function(r){return r||(r={}),r.sessionRenewalMs=30*60*1e3,r.sessionExpirationMs=24*60*60*1e3,r.disableExceptionTracking=ee(r.disableExceptionTracking),r.autoTrackPageVisitTime=ee(r.autoTrackPageVisitTime),r.overridePageViewDuration=ee(r.overridePageViewDuration),r.enableUnhandledPromiseRejectionTracking=ee(r.enableUnhandledPromiseRejectionTracking),(isNaN(r.samplingPercentage)||r.samplingPercentage<=0||r.samplingPercentage>=100)&&(r.samplingPercentage=100),r.isStorageUseDisabled=ee(r.isStorageUseDisabled),r.isBrowserLinkTrackingEnabled=ee(r.isBrowserLinkTrackingEnabled),r.enableAutoRouteTracking=ee(r.enableAutoRouteTracking),r.namePrefix=r.namePrefix||"",r.enableDebug=ee(r.enableDebug),r.disableFlushOnBeforeUnload=ee(r.disableFlushOnBeforeUnload),r.disableFlushOnUnload=ee(r.disableFlushOnUnload,r.disableFlushOnBeforeUnload),r},e.Version="2.6.4",e}(tt),lc=function(){function t(e,r){var n=this,i={};n.start=function(a){typeof i[a]!="undefined"&&e.throwInternal(S.WARNING,h.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},n.stop=function(a,o,c,s){var u=i[a];if(isNaN(u))e.throwInternal(S.WARNING,h.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var l=+new Date,f=ve(u,l);n.action(a,o,f,c,s)}delete i[a],i[a]=void 0}}return t}()});var Qa=C(()=>{fc()});var pc,dc,mc=C(()=>{xe();J();Te();pc=function(){function t(e){var r=[];W(t,this,function(n){n.enqueue=function(i){r.push(i)},n.count=function(){return r.length},n.clear=function(){r.length=0},n.getItems=function(){return r.slice(0)},n.batchPayloads=function(i){if(i&&i.length>0){var a=e.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},n.markAsSent=function(i){n.clear()},n.clearSent=function(i){}})}return t}(),dc=function(){function t(e,r){var n=!1,i;W(t,this,function(a){var o=u(t.BUFFER_KEY),c=u(t.SENT_BUFFER_KEY);i=o.concat(c),i.length>t.MAX_BUFFER_SIZE&&(i.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,[]),l(t.BUFFER_KEY,i),a.enqueue=function(f){if(i.length>=t.MAX_BUFFER_SIZE){n||(e.throwInternal(S.WARNING,h.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),n=!0);return}i.push(f),l(t.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],l(t.BUFFER_KEY,[]),l(t.SENT_BUFFER_KEY,[]),n=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(f){if(f&&f.length>0){var m=r.emitLineDelimitedJson()?f.join(`
`):"["+f.join(",")+"]";return m}return null},a.markAsSent=function(f){i=s(f,i),l(t.BUFFER_KEY,i);var m=u(t.SENT_BUFFER_KEY);m instanceof Array&&f instanceof Array&&(m=m.concat(f),m.length>t.MAX_BUFFER_SIZE&&(e.throwInternal(S.CRITICAL,h.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+m.length,!0),m.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,m))},a.clearSent=function(f){var m=u(t.SENT_BUFFER_KEY);m=s(f,m),l(t.SENT_BUFFER_KEY,m)};function s(f,m){var I=[];return R(m,function(E){!j(E)&&Nt(f,E)===-1&&I.push(E)}),I}function u(f){var m=f;try{m=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+m:m;var I=$t(e,m);if(I){var E=Pe().parse(I);if(_(E)&&(E=Pe().parse(E)),E&&Re(E))return E}}catch(b){e.throwInternal(S.CRITICAL,h.FailedToRestoreStorageBuffer," storage key: "+m+", "+G(b),{exception:O(b)})}return[]}function l(f,m){var I=f;try{I=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+I:I;var E=JSON.stringify(m);Zt(e,I,E)}catch(b){Zt(e,I,JSON.stringify([])),e.throwInternal(S.WARNING,h.FailedToSetStorageBuffer," storage key: "+I+", "+G(b)+". Buffer cleared",{exception:O(b)})}}})}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}()});function ye(t,e,r){return K(t,e,r,Pr)}var eo,se,ke,gc,fe,vc,to,hc,xc,yc,Sc,Cc,Ic=C(()=>{ne();xe();J();eo="baseType",se="baseData",ke="properties",gc="true";fe=function(){function t(){}return t.extractPropsAndMeasurements=function(e,r,n){x(e)||Q(e,function(i,a){ir(a)?n[i]=a:_(a)?r[i]=a:vt()&&(r[i]=Pe().stringify(a))})},t.createEnvelope=function(e,r,n,i){var a=new Tn(e,i,r);ye(a,"sampleRate",n[lr]),(n[se]||{}).startTime&&(a.time=Me(n[se].startTime)),a.iKey=n.iKey;var o=n.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",o),t.extractPartAExtensions(n,a),n.tags=n.tags||[],Kn(a)},t.extractPartAExtensions=function(e,r){var n=r.tags=r.tags||{},i=e.ext=e.ext||{},a=e.tags=e.tags||[],o=i.user;o&&(ye(n,re.userAuthUserId,o.authId),ye(n,re.userId,o.id||o.localId));var c=i.app;c&&ye(n,re.sessionId,c.sesId);var s=i.device;s&&(ye(n,re.deviceId,s.id||s.localId),ye(n,re.deviceType,s.deviceClass),ye(n,re.deviceIp,s.ip),ye(n,re.deviceModel,s.model),ye(n,re.deviceType,s.deviceType));var u=e.ext.web;if(u){ye(n,re.deviceLanguage,u.browserLang),ye(n,re.deviceBrowserVersion,u.browserVer),ye(n,re.deviceBrowser,u.browser);var l=r.data=r.data||{},f=l[se]=l[se]||{},m=f[ke]=f[ke]||{};ye(m,"domain",u.domain),ye(m,"isManual",u.isManual?gc:null),ye(m,"screenRes",u.screenRes),ye(m,"userConsent",u.userConsent?gc:null)}var I=i.os;I&&ye(n,re.deviceOS,I.name);var E=i.trace;E&&(ye(n,re.operationParentId,E.parentID),ye(n,re.operationName,E.name),ye(n,re.operationId,E.traceID));for(var b={},p=a.length-1;p>=0;p--){var v=a[p];Q(v,function(w,L){b[w]=L}),a.splice(p,1)}Q(a,function(w,L){b[w]=L});var y=yt({},n,b);y[re.internalSdkVersion]||(y[re.internalSdkVersion]="javascript:"+t.Version),r.tags=Kn(y)},t.prototype.Init=function(e,r){this._logger=e,x(r[se])&&this._logger.throwInternal(S.CRITICAL,h.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},t.Version="2.6.4",t}(),vc=function(t){H(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};fe.extractPropsAndMeasurements(n.data,a,i);var o=n[se];if(x(o))return r.warnToConsole("Invalid input for dependency data"),null;var c=o[ke]&&o[ke][Fr]?o[ke][Fr]:"GET",s=new qe(r,o.id,o.target,o.name,o.duration,o.success,o.responseCode,c,o.type,o.correlationContext,a,i),u=new xt(qe.dataType,s);return fe.createEnvelope(r,qe.envelopeType,n,u)},e.DependencyEnvelopeCreator=new e,e}(fe),to=function(t){H(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i={},a={};n[eo]!==Be.dataType&&(i.baseTypeSource=n[eo]),n[eo]===Be.dataType?(i=n[se][ke]||{},a=n[se].measurements||{}):n[se]&&fe.extractPropsAndMeasurements(n[se],i,a),fe.extractPropsAndMeasurements(n.data,i,a);var o=n[se].name,c=new Be(r,o,i,a),s=new xt(Be.dataType,c);return fe.createEnvelope(r,Be.envelopeType,n,s)},e.EventEnvelopeCreator=new e,e}(fe),hc=function(t){H(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};fe.extractPropsAndMeasurements(n.data,a,i);var o=n[se],c=he.CreateFromInterface(r,o,a,i),s=new xt(he.dataType,c);return fe.createEnvelope(r,he.envelopeType,n,s)},e.ExceptionEnvelopeCreator=new e,e}(fe),xc=function(t){H(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i[ke]||{},o=i.measurements||{};fe.extractPropsAndMeasurements(n.data,a,o);var c=new Ve(r,i.name,i.average,i.sampleCount,i.min,i.max,a,o),s=new xt(Ve.dataType,c);return fe.createEnvelope(r,Ve.envelopeType,n,s)},e.MetricEnvelopeCreator=new e,e}(fe),yc=function(t){H(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i="duration",a,o=n[se];!x(o)&&!x(o[ke])&&!x(o[ke][i])?(a=o[ke][i],delete o[ke][i]):!x(n.data)&&!x(n.data[i])&&(a=n.data[i],delete n.data[i]);var c=n[se],s;((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var u=c.id||s,l=c.name,f=c.uri,m=c[ke]||{},I=c.measurements||{};if(x(c.refUri)||(m.refUri=c.refUri),x(c.pageType)||(m.pageType=c.pageType),x(c.isLoggedIn)||(m.isLoggedIn=c.isLoggedIn.toString()),!x(c[ke])){var E=c[ke];Q(E,function(v,y){m[v]=y})}fe.extractPropsAndMeasurements(n.data,m,I);var b=new Fe(r,l,f,a,m,I,u),p=new xt(Fe.dataType,b);return fe.createEnvelope(r,Fe.envelopeType,n,p)},e.PageViewEnvelopeCreator=new e,e}(fe),Sc=function(t){H(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i.name,o=i.uri||i.url,c=i[ke]||{},s=i.measurements||{};fe.extractPropsAndMeasurements(n.data,c,s);var u=new Ze(r,a,o,void 0,c,s,i),l=new xt(Ze.dataType,u);return fe.createEnvelope(r,Ze.envelopeType,n,l)},e.PageViewPerformanceEnvelopeCreator=new e,e}(fe),Cc=function(t){H(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].message,a=n[se].severityLevel,o=n[se][ke]||{},c=n[se].measurements||{};fe.extractPropsAndMeasurements(n.data,o,c);var s=new $e(r,i,a,o,c),u=new xt($e.dataType,s);return fe.createEnvelope(r,$e.envelopeType,n,u)},e.TraceEnvelopeCreator=new e,e}(fe)});var Tc,Ec=C(()=>{J();Te();Tc=function(){function t(e){W(t,this,function(r){r.serialize=function(o){var c=n(o,"root");try{return Pe().stringify(c)}catch(s){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,s&&j(s.toString)?s.toString():"Error serializing object",null,!0)}};function n(o,c){var s="__aiCircularRefCheck",u={};if(!o)return e.throwInternal(S.CRITICAL,h.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:c},!0),u;if(o[s])return e.throwInternal(S.WARNING,h.CircularReferenceDetected,"Circular reference detected while serializing object",{name:c},!0),u;if(!o.aiDataContract){if(c==="measurements")u=a(o,"number",c);else if(c==="properties")u=a(o,"string",c);else if(c==="tags")u=a(o,"string",c);else if(Re(o))u=i(o,c);else{e.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:c},!0);try{Pe().stringify(o),u=o}catch(l){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,l&&j(l.toString)?l.toString():"Error serializing object",null,!0)}}return u}return o[s]=!0,Q(o.aiDataContract,function(l,f){var m=j(f)?f()&1:f&1,I=j(f)?f()&4:f&4,E=f&2,b=o[l]!==void 0,p=st(o[l])&&o[l]!==null;if(m&&!b&&!E)e.throwInternal(S.CRITICAL,h.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:c});else if(!I){var v=void 0;p?E?v=i(o[l],l):v=n(o[l],l):v=o[l],v!==void 0&&(u[l]=v)}}),delete o[s],u}function i(o,c){var s;if(o)if(!Re(o))e.throwInternal(S.CRITICAL,h.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:c},!0);else{s=[];for(var u=0;u<o.length;u++){var l=o[u],f=n(l,c+"["+u+"]");s.push(f)}}return s}function a(o,c,s){var u;return o&&(u={},Q(o,function(l,f){if(c==="string")f===void 0?u[l]="undefined":f===null?u[l]="null":f.toString?u[l]=f.toString():u[l]="invalid field: toString() is not defined.";else if(c==="number")if(f===void 0)u[l]="undefined";else if(f===null)u[l]="null";else{var m=parseFloat(f);isNaN(m)?u[l]="NaN":u[l]=m}else u[l]="invalid field: "+s+" is of unknown type.",e.throwInternal(S.CRITICAL,u[l],null,!0)})),u}})}return t}()});var pl,ro,wc=C(()=>{J();Te();pl=function(){function t(){var e=Ct(),r=Ne(),n=!1,i=!0;W(t,this,function(a){try{if(e&&Jt.Attach(e,"online",s)&&(Jt.Attach(e,"offline",u),n=!0),r){var o=r.body||r;pe(o.ononline)||(o.ononline=s,o.onoffline=u,n=!0)}if(n){var c=Ue();c&&!x(c.onLine)&&(i=c.onLine)}}catch(l){n=!1}a.isListening=n,a.isOnline=function(){var l=!0,f=Ue();return n?l=i:f&&!x(f.onLine)&&(l=f.onLine),l},a.isOffline=function(){return!a.isOnline()};function s(){i=!0}function u(){i=!1}})}return t.Offline=new t,t}(),ro=pl.Offline});var Pc,bc=C(()=>{Pc=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e.length<t.MIN_INPUT_LENGTH;)e=e.concat(e);for(var r=5381,n=0;n<e.length;++n)r=(r<<5)+r+e.charCodeAt(n),r=r&r;return Math.abs(r)},t.INT_MAX_VALUE=2147483647,t.MIN_INPUT_LENGTH=8,t}()});var Dc,Ac=C(()=>{bc();xe();Dc=function(){function t(){this.hashCodeGeneragor=new Pc,this.keys=new hr}return t.prototype.getSamplingScore=function(e){var r=0;return e.tags&&e.tags[this.keys.userId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):r=Math.random()*100,r},t}()});var Nc,Fc=C(()=>{Ac();xe();J();Nc=function(){function t(e,r){this.INT_MAX_VALUE=2147483647,this._logger=r||kt(null),(e>100||e<0)&&(this._logger.throwInternal(S.WARNING,h.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Dc}return t.prototype.isSampledIn=function(e){var r=this.sampleRate,n=!1;return r==null||r>=100||e.baseType===Ve.dataType?!0:(n=this.samplingScoreGenerator.getSamplingScore(e)<r,n)},t}()});function Si(t){try{return t.responseText}catch(e){}return null}var Dn,kc=C(()=>{ne();mc();Ic();Ec();xe();J();wc();Fc();Te();Dn=function(t){H(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=_r,r._XMLHttpRequestSupported=!1;var n,i,a,o,c,s,u={};return W(e,r,function(l,f){function m(){Ae("Method not implemented.")}l.pause=m,l.resume=m,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FlushFailed,"flush failed, telemetry will not be collected: "+G(d),{exception:O(d)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&Nr())try{l.triggerSend(!0,p,2)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+G(d),{exception:O(d)})}else l.flush()},l.teardown=m,l.addHeader=function(d,T){u[d]=T},l.initialize=function(d,T,A,D){f.initialize(d,T,A,D);var z=l._getTelCtx(),U=l.identifier;c=new Tc(T.logger),n=0,i=null,a=0,l._sender=null,s=0;var q=e._getDefaultAppInsightsChannelConfig();if(l._senderConfig=e._getEmptyAppInsightsChannelConfig(),Q(q,function(g,P){l._senderConfig[g]=function(){return z.getConfig(U,g,P())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&wt()?new dc(l.diagLog(),l._senderConfig):new pc(l._senderConfig),l._sample=new Nc(l._senderConfig.samplingPercentage(),l.diagLog()),dt(d)||l.diagLog().throwInternal(S.CRITICAL,h.InvalidInstrumentationKey,"Invalid Instrumentation key "+d.instrumentationKey),!Rr(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&R(l._senderConfig.customHeaders(),function(g){r.addHeader(g.header,g.value)}),!l._senderConfig.isBeaconApiDisabled()&&Nr())l._sender=p;else{var $=we("XMLHttpRequest");if($){var ie=new $;"withCredentials"in ie?(l._sender=v,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Oe&&(l._sender=me)}else{var Ht=we("fetch");Ht&&(l._sender=y)}}},l.processTelemetry=function(d,T){T=l._getTelCtx(T);try{if(l._senderConfig.disableTelemetry())return;if(!d){T.diagLog().throwInternal(S.CRITICAL,h.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(d.baseData&&!d.baseType){T.diagLog().throwInternal(S.CRITICAL,h.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(d.baseType||(d.baseType="EventData"),!l._sender){T.diagLog().throwInternal(S.CRITICAL,h.SenderNotInitialized,"Sender was not initialized");return}if(I(d))d[lr]=l._sample.sampleRate;else{T.diagLog().throwInternal(S.WARNING,h.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var A=e.constructEnvelope(d,l._senderConfig.instrumentationKey(),T.diagLog());if(!A){T.diagLog().throwInternal(S.CRITICAL,h.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var D=!1;if(d.tags&&d.tags[Ut]&&(R(d.tags[Ut],function($){try{$&&$(A)===!1&&(D=!0,T.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(ie){T.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(ie),{exception:O(ie)},!0)}}),delete d.tags[Ut]),D)return;var z=c.serialize(A),U=l._buffer.getItems(),q=l._buffer.batchPayloads(U);q&&q.length+z.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(z),Y()}catch($){T.diagLog().throwInternal(S.WARNING,h.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+G($),{exception:O($)})}l.processNext(d,T)},l._xhrReadyStateChange=function(d,T,A){d.readyState===4&&E(d.status,T,d.responseURL,A,X(d),Si(d)||d.response)},l.triggerSend=function(d,T,A){d===void 0&&(d=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var D=l._buffer.getItems();at(A||0,d),T?T.call(r,D,d):l._sender(D,d)}a=+new Date}clearTimeout(o),o=null,i=null}catch(U){var z=or();(!z||z>9)&&l.diagLog().throwInternal(S.CRITICAL,h.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+G(U),{exception:O(U)})}},l._onError=function(d,T,A){l.diagLog().throwInternal(S.WARNING,h.OnError,"Failed to send telemetry.",{message:T}),l._buffer.clearSent(d)},l._onPartialSuccess=function(d,T){for(var A=[],D=[],z=T.errors.reverse(),U=0,q=z;U<q.length;U++){var $=q[U],ie=d.splice($.index,1)[0];Se($.statusCode)?D.push(ie):A.push(ie)}d.length>0&&l._onSuccess(d,T.itemsAccepted),A.length>0&&l._onError(A,X(null,["partial success",T.itemsAccepted,"of",T.itemsReceived].join(" "))),D.length>0&&(L(D),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,"Partial success. Delivered: "+d.length+", Failed: "+A.length+". Will retry to send "+D.length+" our of "+T.itemsReceived+" items"))},l._onSuccess=function(d,T){l._buffer.clearSent(d)},l._xdrOnLoad=function(d,T){var A=Si(d);if(d&&(A+""=="200"||A===""))n=0,l._onSuccess(T,0);else{var D=w(A);D&&D.itemsReceived&&D.itemsReceived>D.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,D):l._onError(T,De(d))}};function I(d){return l._sample.isSampledIn(d)}function E(d,T,A,D,z,U){var q=null;if(l._appId||(q=w(U),q&&q.appId&&(l._appId=q.appId)),(d<200||d>=300)&&d!==0){if((d===301||d===307||d===308)&&!b(A)){l._onError(T,z);return}!l._senderConfig.isRetryDisabled()&&Se(d)?(L(T),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Response code "+d+". Will retry to send "+T.length+" items.")):l._onError(T,z)}else if(ro.isOffline()){if(!l._senderConfig.isRetryDisabled()){var $=10;L(T,$),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Offline - Response Code: "+d+". Offline status: "+ro.isOffline()+". Will retry to send "+T.length+" items.")}}else b(A),d===206?(q||(q=w(U)),q&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,q):l._onError(T,z)):(n=0,l._onSuccess(T,D))}function b(d){return s>=10?!1:!x(d)&&d!==""&&d!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return d},++s,!0):!1}function p(d,T){var A=l._senderConfig.endpointUrl(),D=l._buffer.batchPayloads(d),z=new Blob([D],{type:"text/plain;charset=UTF-8"}),U=Ue().sendBeacon(A,z);U?(l._buffer.markAsSent(d),l._onSuccess(d,d.length)):(v(d,!0),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function v(d,T){var A=new XMLHttpRequest,D=l._senderConfig.endpointUrl();try{A[Et]=!0}catch(U){}A.open("POST",D,T),A.setRequestHeader("Content-type","application/json"),Rr(D)&&A.setRequestHeader(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Qe(u),function(U){A.setRequestHeader(U,u[U])}),A.onreadystatechange=function(){return l._xhrReadyStateChange(A,d,d.length)},A.onerror=function(U){return l._onError(d,X(A),U)};var z=l._buffer.batchPayloads(d);A.send(z),l._buffer.markAsSent(d)}function y(d,T){var A=l._senderConfig.endpointUrl(),D=l._buffer.batchPayloads(d),z=new Blob([D],{type:"text/plain;charset=UTF-8"}),U=new Headers;Rr(A)&&U.append(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Qe(u),function(ie){U.append(ie,u[ie])});var q={method:"POST",headers:U,body:z},$=new Request(A,q);fetch($).then(function(ie){if(ie.ok)ie.text().then(function(Ht){E(ie.status,d,ie.url,d.length,ie.statusText,Ht)}),l._buffer.markAsSent(d);else throw Error(ie.statusText)}).catch(function(ie){l._onError(d,ie.message)})}function w(d){try{if(d&&d!==""){var T=Pe().parse(d);if(T&&T.itemsReceived&&T.itemsReceived>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors.length)return T}}catch(A){l.diagLog().throwInternal(S.CRITICAL,h.InvalidBackendResponse,"Cannot parse the response. "+G(A),{response:d})}return null}function L(d,T){if(T===void 0&&(T=1),!(!d||d.length===0)){l._buffer.clearSent(d),n++;for(var A=0,D=d;A<D.length;A++){var z=D[A];l._buffer.enqueue(z)}F(T),Y()}}function F(d){var T=10,A;if(n<=1)A=T;else{var D=(Math.pow(2,n)-1)/2,z=Math.floor(Math.random()*D*T)+1;z=d*z,A=Math.max(Math.min(z,3600),T)}var U=de()+A*1e3;i=U}function Y(){if(!o){var d=i?Math.max(0,i-de()):0,T=Math.max(l._senderConfig.maxBatchInterval(),d);o=setTimeout(function(){l.triggerSend(!0,null,1)},T)}}function Se(d){return d===408||d===429||d===500||d===503}function X(d,T){return d?"XMLHttpRequest,Status:"+d.status+",Response:"+Si(d)||d.response||"":T}function me(d,T){var A=Ct(),D=new XDomainRequest;D.onload=function(){return l._xdrOnLoad(D,d)},D.onerror=function($){return l._onError(d,De(D),$)};var z=A&&A.location&&A.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(z,0)!==0){l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var U=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");D.open("POST",U);var q=l._buffer.batchPayloads(d);D.send(q),l._buffer.markAsSent(d)}function De(d,T){return d?"XDomainRequest,Response:"+Si(d)||"":T}function pt(){var d="getNotifyMgr";return l.core[d]?l.core[d]():l.core._notificationManager}function at(d,T){var A=pt();if(A&&A.eventsSendRequest)try{A.eventsSendRequest(d,T)}catch(D){l.diagLog().throwInternal(S.CRITICAL,h.NotificationException,"send request notification failed: "+G(D),{exception:O(D)})}}function dt(d){var T=x(d.disableInstrumentationKeyValidation)?!1:d.disableInstrumentationKeyValidation;if(T)return!0;var A="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",D=new RegExp(A);return D.test(d.instrumentationKey)}}),r}return e.constructEnvelope=function(r,n,i){var a;switch(n!==r.iKey&&!x(n)?a=yt({},r,{iKey:n}):a=r,a.baseType){case Be.dataType:return to.EventEnvelopeCreator.Create(i,a);case $e.dataType:return Cc.TraceEnvelopeCreator.Create(i,a);case Fe.dataType:return yc.PageViewEnvelopeCreator.Create(i,a);case Ze.dataType:return Sc.PageViewPerformanceEnvelopeCreator.Create(i,a);case he.dataType:return hc.ExceptionEnvelopeCreator.Create(i,a);case Ve.dataType:return xc.MetricEnvelopeCreator.Create(i,a);case qe.dataType:return vc.DependencyEnvelopeCreator.Create(i,a);default:return to.EventEnvelopeCreator.Create(i,a)}},e._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},e._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},e}(tt)});var no=C(()=>{kc()});var dl,io,Rc,Mc=C(()=>{Te();xe();J();dl="ai_session",io=function(){function t(){}return t}(),Rc=function(){function t(e,r){var n=this,i,a,o=kt(r),c=cr(r);W(t,n,function(s){e||(e={}),j(e.sessionExpirationMs)||(e.sessionExpirationMs=function(){return t.acquisitionSpan}),j(e.sessionRenewalMs)||(e.sessionRenewalMs=function(){return t.renewalSpan}),s.config=e;var u=s.config.sessionCookiePostfix&&s.config.sessionCookiePostfix()?s.config.sessionCookiePostfix():s.config.namePrefix&&s.config.namePrefix()?s.config.namePrefix():"";i=function(){return dl+u},s.automaticSession=new io,s.update=function(){var b=de(),p=!1,v=s.automaticSession;v.id||(p=!l(v,b));var y=s.config.sessionExpirationMs();if(!p&&y>0){var w=s.config.sessionRenewalMs(),L=b-v.acquisitionDate,F=b-v.renewalDate;p=L<0||F<0,p=p||L>y,p=p||F>w}p?m(b):(!a||b-a>t.cookieUpdateInterval)&&I(v,b)},s.backup=function(){var b=s.automaticSession;E(b.id,b.acquisitionDate,b.renewalDate)};function l(b,p){var v=!1,y=c.get(i());if(y&&j(y.split))v=f(b,y);else{var w=dn(o,i());w&&(v=f(b,w))}return v||!!b.id}function f(b,p){var v=!1,y=", session will be reset",w=p.split("|");if(w.length>=2)try{var L=+w[1]||0,F=+w[2]||0;isNaN(L)||L<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session acquisition date is 0"+y):isNaN(F)||F<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session renewal date is 0"+y):w[0]&&(b.id=w[0],b.acquisitionDate=L,b.renewalDate=F,v=!0)}catch(Y){o.throwInternal(S.CRITICAL,h.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(p||"")+"]"+y+" - "+G(Y),{exception:O(Y)})}return v}function m(b){var p=s.config||{},v=(p.getNewId?p.getNewId():null)||Wt;s.automaticSession.id=v(p.idLength?p.idLength():22),s.automaticSession.acquisitionDate=b,I(s.automaticSession,b),kr()||o.throwInternal(S.WARNING,h.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function I(b,p){var v=b.acquisitionDate;b.renewalDate=p;var y=s.config,w=y.sessionRenewalMs(),L=v+y.sessionExpirationMs()-p,F=[b.id,v,p],Y=0;L<w?Y=L/1e3:Y=w/1e3;var Se=y.cookieDomain?y.cookieDomain():null;c.set(i(),F.join("|"),y.sessionExpirationMs()>0?Y:null,Se),a=p}function E(b,p,v){mn(o,i(),[b,p,v].join("|"))}})}return t.acquisitionSpan=864e5,t.renewalSpan=18e5,t.cookieUpdateInterval=6e4,t}()});var Lc,Uc=C(()=>{Lc=function(){function t(){}return t}()});var _c,Oc=C(()=>{_c=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}()});var ml,Hc,jc=C(()=>{ml="2.6.4",Hc=function(){function t(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+ml}return t}()});function zc(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var Bc,Vc=C(()=>{Te();xe();J();Bc=function(){function t(e,r){this.isNewUser=!1;var n=kt(r),i=cr(r),a;W(t,this,function(o){o.config=e;var c=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"";a=function(){return t.userCookieName+c};var s=i.get(a());if(s){o.isNewUser=!1;var u=s.split(t.cookieSeparator);u.length>0&&(o.id=u[0])}if(!o.id){var l=e||{},f=(l.getNewId?l.getNewId():null)||Wt;o.id=f(l.idLength?e.idLength():22);var m=31536e3,I=Me(new Date);o.accountAcquisitionDate=I,o.isNewUser=!0;var E=[o.id,I];i.set(a(),E.join(t.cookieSeparator),m);var b=e.namePrefix&&e.namePrefix()?e.namePrefix()+"ai_session":"ai_session";gn(n,b)}o.accountId=e.accountId?e.accountId():void 0;var p=i.get(t.authUserCookieName);if(p){p=decodeURI(p);var v=p.split(t.cookieSeparator);v[0]&&(o.authenticatedId=v[0]),v.length>1&&v[1]&&(o.accountId=v[1])}o.setAuthenticatedUserContext=function(y,w,L){L===void 0&&(L=!1);var F=!zc(y)||w&&!zc(w);if(F){n.throwInternal(S.WARNING,h.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}o.authenticatedId=y;var Y=o.authenticatedId;w&&(o.accountId=w,Y=[o.authenticatedId,o.accountId].join(t.cookieSeparator)),L&&i.set(t.authUserCookieName,encodeURI(Y))},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,i.del(t.authUserCookieName)}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}()});var qc,Gc=C(()=>{qc=function(){function t(){}return t}()});var Kc,Wc=C(()=>{xe();J();Kc=function(){function t(e,r,n,i){var a=this;a.traceID=e||He(),a.parentID=r,a.name=n;var o=et();!n&&o&&o.pathname&&(a.name=o.pathname),a.name=ae(i,a.name)}return t}()});function Or(t,e){t&&t[e]&&Qe(t[e]).length===0&&delete t[e]}var Ci,Ii,Jc,Xc=C(()=>{Te();J();Mc();xe();Uc();Oc();jc();Vc();Gc();Wc();Ci="ext",Ii="tags";Jc=function(){function t(e,r){var n=this,i=e.logger;this.appId=function(){return null},W(t,this,function(a){a.application=new Lc,a.internal=new Hc(r),ar()&&(a.sessionManager=new Rc(r,e),a.device=new _c,a.location=new qc,a.user=new Bc(r,e),a.telemetryTrace=new Kc(void 0,void 0,void 0,i),a.session=new io),a.applySessionContext=function(o,c){var s=a.session,u=a.sessionManager;s&&_(s.id)?K(ge(o.ext,_e.AppExt),"sesId",s.id):u&&u.automaticSession&&K(ge(o.ext,_e.AppExt),"sesId",u.automaticSession.id,_)},a.applyOperatingSystemContxt=function(o,c){K(o.ext,_e.OSExt,a.os)},a.applyApplicationContext=function(o,c){var s=a.application;if(s){var u=ge(o,Ii);K(u,re.applicationVersion,s.ver,_),K(u,re.applicationBuild,s.build,_)}},a.applyDeviceContext=function(o,c){var s=a.device;if(s){var u=ge(ge(o,Ci),_e.DeviceExt);K(u,"localId",s.id,_),K(u,"ip",s.ip,_),K(u,"model",s.model,_),K(u,"deviceClass",s.deviceClass,_)}},a.applyInternalContext=function(o,c){var s=a.internal;if(s){var u=ge(o,Ii);K(u,re.internalAgentVersion,s.agentVersion,_),K(u,re.internalSdkVersion,s.sdkVersion,_),(o.baseType===Ft.dataType||o.baseType===Fe.dataType)&&(K(u,re.internalSnippet,s.snippetVer,_),K(u,re.internalSdkSrc,s.sdkSrc,_))}},a.applyLocationContext=function(o,c){var s=n.location;s&&K(ge(o,Ii,[]),re.locationIp,s.ip,_)},a.applyOperationContext=function(o,c){var s=a.telemetryTrace;if(s){var u=ge(ge(o,Ci),_e.TraceExt,{traceID:void 0,parentID:void 0});K(u,"traceID",s.traceID,_),K(u,"name",s.name,_),K(u,"parentID",s.parentID,_)}},a.applyWebContext=function(o,c){var s=n.web;s&&K(ge(o,Ci),_e.WebExt,s)},a.applyUserContext=function(o,c){var s=a.user;if(s){var u=ge(o,Ii,[]);K(u,re.userAccountId,s.accountId,_);var l=ge(ge(o,Ci),_e.UserExt);K(l,"id",s.id,_),K(l,"authId",s.authenticatedId,_)}},a.cleanUp=function(o,c){var s=o.ext;s&&(Or(s,_e.DeviceExt),Or(s,_e.UserExt),Or(s,_e.WebExt),Or(s,_e.OSExt),Or(s,_e.AppExt),Or(s,_e.TraceExt))}})}return t}()});var gl,An,Yc=C(()=>{ne();Te();J();Xc();xe();gl=function(t){H(e,t);function e(){var r=t.call(this)||this;r.priority=110,r.identifier=Ot;var n,i;return W(e,r,function(a,o){a.initialize=function(s,u,l,f){o.initialize(s,u,l,f);var m=a._getTelCtx(),I=a.identifier,E=e.getDefaultConfig();i=i||{},Q(E,function(b,p){i[b]=function(){return m.getConfig(I,b,p())}}),a.context=new Jc(u,i),n=cn(l,_r),a.context.appId=function(){return n?n._appId:null},a._extConfig=i},a.processTelemetry=function(s,u){if(!x(s)){u=a._getTelCtx(u),s.name===Fe.envelopeType&&u.diagLog().resetInternalMessageCount();var l=a.context||{};if(l.session&&typeof a.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),c(s,u),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var f=new Ft(h.SendBrowserInfoOnUserInit,(Ue()||{}).userAgent||"");u.diagLog().logInternalMessage(S.CRITICAL,f)}a.processNext(s,u)}};function c(s,u){ge(s,"tags",[]),ge(s,"ext",{});var l=a.context;l.applySessionContext(s,u),l.applyApplicationContext(s,u),l.applyDeviceContext(s,u),l.applyOperationContext(s,u),l.applyUserContext(s,u),l.applyOperatingSystemContxt(s,u),l.applyWebContext(s,u),l.applyLocationContext(s,u),l.applyInternalContext(s,u),l.cleanUp(s,u)}}),r}return e.getDefaultConfig=function(){var r={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 30*60*1e3},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 24*60*60*1e3},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return r},e}(tt),An=gl});var ao=C(()=>{Yc()});function $c(t,e,r){var n=0,i=t[e],a=t[r];return i&&a&&(n=ve(i,a)),n}function xr(t,e,r,n,i){var a=0,o=$c(r,n,i);return o&&(a=tr(t,e,Ge(o))),a}function tr(t,e,r){var n="ajaxPerf",i=0;if(t&&e&&r){var a=t[n]=t[n]||{};a[e]=r,i=1}return i}function vl(t,e){var r=t.perfTiming,n=e[nt]||{},i=0,a="name",o="Start",c="End",s="domainLookup",u="connect",l="redirect",f="request",m="response",I="duration",E="startTime",b=s+o,p=s+c,v=u+o,y=u+c,w=f+o,L=f+c,F=m+o,Y=m+c,Se=l+o,X=l=c,me="transferSize",De="encodedBodySize",pt="decodedBodySize",at="serverTiming";if(r){i|=xr(n,l,r,Se,X),i|=xr(n,s,r,b,p),i|=xr(n,u,r,v,y),i|=xr(n,f,r,w,L),i|=xr(n,m,r,F,Y),i|=xr(n,"networkConnect",r,E,y),i|=xr(n,"sentRequest",r,w,Y);var dt=r[I];dt||(dt=$c(r,E,Y)||0),i|=tr(n,I,dt),i|=tr(n,"perfTotal",dt);var d=r[at];if(d){var T={};R(d,function(A,D){var z=zi(A[a]||""+D),U=T[z]||{};Q(A,function(q,$){(q!==a&&_($)||ir($))&&(U[q]&&($=U[q]+";"+$),($||!_($))&&(U[q]=$))}),T[z]=U}),i|=tr(n,at,T)}i|=tr(n,me,r[me]),i|=tr(n,De,r[De]),i|=tr(n,pt,r[pt])}else t.perfMark&&(i|=tr(n,"missing",t.perfAttempts));i&&(e[nt]=n)}var nt,hl,oo,Zc=C(()=>{xe();J();Te();nt="properties";hl=function(){function t(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1}return t}(),oo=function(){function t(e,r,n){var i=this,a=n,o="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new hl,i.clientFailure=0,i.traceID=e,i.spanID=r,W(t,i,function(c){c.getAbsoluteUrl=function(){return c.requestUrl?hn(c.requestUrl):null},c.getPathName=function(){return c.requestUrl?Tt(a,xn(c.method,c.requestUrl)):null},c.CreateTrackItem=function(s,u,l){if(c.ajaxTotalDuration=Math.round(ve(c.requestSentTime,c.responseFinishedTime)*1e3)/1e3,c.ajaxTotalDuration<0)return null;var f=(b={id:"|"+c.traceID+"."+c.spanID,target:c.getAbsoluteUrl(),name:c.getPathName(),type:s,startTime:null,duration:c.ajaxTotalDuration,success:+c.status>=200&&+c.status<400,responseCode:+c.status,method:c.method},b[nt]={HttpMethod:c.method},b);if(c.requestSentTime&&(f.startTime=new Date,f.startTime.setTime(c.requestSentTime)),vl(c,f),u&&Qe(c.requestHeaders).length>0&&(f[nt]=f[nt]||{},f[nt].requestHeaders=c.requestHeaders),l){var m=l();if(m){var I=m.correlationContext;if(I&&(f.correlationContext=I),m.headerMap&&Qe(m.headerMap).length>0&&(f[nt]=f[nt]||{},f[nt].responseHeaders=m.headerMap),c.status>=400){var E=m.type;f[nt]=f[nt]||{},(E===""||E==="text")&&(f[nt][o]=m[o]?m.statusText+" - "+m[o]:m.statusText),E==="json"&&(f[nt][o]=m.response?m.statusText+" - "+JSON.stringify(m.response):m.statusText)}}}return f;var b}})}return t}()});var mh,Qc=C(()=>{J();J();mh=function(){function t(){}return t.GetLength=function(e){var r=0;if(!x(e)){var n="";try{n=e.toString()}catch(i){}r=n.length,r=isNaN(r)?0:r}return r},t}()});var so,eu=C(()=>{J();so=function(){function t(e,r){var n=this;n.traceFlag=t.DEFAULT_TRACE_FLAG,n.version=t.DEFAULT_VERSION,e&&t.isValidTraceId(e)?n.traceId=e:n.traceId=He(),r&&t.isValidSpanId(r)?n.spanId=r:n.spanId=He().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}()});function xl(){var t=ot();return!t||x(t.Request)||x(t.Request[Ie])||x(t[Fn])?null:t[Fn]}function yl(t){var e=!1;if(typeof XMLHttpRequest!==Oe&&!x(XMLHttpRequest)){var r=XMLHttpRequest[Ie];e=!x(r)&&!x(r.open)&&!x(r.send)&&!x(r.abort)}var n=or();if(n&&n<9&&(e=!1),e)try{var i=new XMLHttpRequest;i[it]={};var a=XMLHttpRequest[Ie].open;XMLHttpRequest[Ie].open=a}catch(o){e=!1,kn(t,h.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:O(o)})}return e}function Ti(t){var e="";try{!x(t)&&!x(t[it])&&!x(t[it].requestUrl)&&(e+="(url: '"+t[it].requestUrl+"')")}catch(r){}return e}function kn(t,e,r,n,i){t[Nn]()[ru](S.CRITICAL,e,r,n,i)}function Ei(t,e,r,n,i){t[Nn]()[ru](S.WARNING,e,r,n,i)}function Rn(t,e,r){return function(n){kn(t,e,r,{ajaxDiagnosticsMessage:Ti(n.inst),exception:O(n.err)})}}function Hr(t,e){return t&&e?t.indexOf(e):-1}var tu,Nn,it,ru,Fn,nu,Mn,iu=C(()=>{ne();xe();J();Zc();Qc();eu();Te();tu="ai.ajxmn.",Nn="diagLog",it="ajaxData",ru="throwInternal",Fn="fetch",nu=0;Mn=function(t){H(e,t);function e(){var r=t.call(this)||this;r.identifier=e.identifier,r.priority=120;var n="trackDependencyDataInternal",i=et(),a=!1,o=!1,c=i&&i.host&&i.host.toLowerCase(),s=e.getEmptyConfig(),u=!1,l=0,f,m,I,E,b=!1,p=0,v=!1,y=[],w={},L;return W(e,r,function(F,Y){F.initialize=function(g,P,N,k){if(!F.isInitialized()){Y.initialize(g,P,N,k);var M=F._getTelCtx(),V=e.getDefaultConfig();Q(V,function(We,yr){s[We]=M.getConfig(e.identifier,We,yr)});var B=s.distributedTracingMode;if(u=s.enableRequestHeaderTracking,b=s.enableAjaxPerfTracking,p=s.maxAjaxCallsPerView,v=s.enableResponseHeaderTracking,L=s.excludeRequestFromAutoTrackingPatterns,I=B===Ke.AI||B===Ke.AI_AND_W3C,m=B===Ke.AI_AND_W3C||B===Ke.W3C,b){var Z=g.instrumentationKey||"unkwn";Z.length>5?E=tu+Z.substring(Z.length-5)+".":E=tu+Z+"."}if(s.disableAjaxTracking===!1&&De(),X(),N.length>0&&N){for(var ce=void 0,Ce=0;!ce&&Ce<N.length;)N[Ce]&&N[Ce].identifier===Ot&&(ce=N[Ce]),Ce++;ce&&(f=ce.context)}}},F.teardown=function(){R(y,function(g){g.rm()}),y=[],a=!1,o=!1,F.setInitialized(!1)},F.trackDependencyData=function(g,P){F[n](g,P)},F.includeCorrelationHeaders=function(g,P,N,k){var M=F._currentWindowHost||c;if(P){if(Pt.canIncludeCorrelationHeader(s,g.getAbsoluteUrl(),M)){if(N||(N={}),N.headers=new Headers(N.headers||(P instanceof Request?P.headers||{}:{})),I){var V="|"+g.traceID+"."+g.spanID;N.headers.set(te.requestIdHeader,V),u&&(g.requestHeaders[te.requestIdHeader]=V)}var B=s.appId||f&&f.appId();if(B&&(N.headers.set(te.requestContextHeader,te.requestContextAppIdFormat+B),u&&(g.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+B)),m){var Z=new so(g.traceID,g.spanID);N.headers.set(te.traceParentHeader,Z.toString()),u&&(g.requestHeaders[te.traceParentHeader]=Z.toString())}}return N}else if(k){if(Pt.canIncludeCorrelationHeader(s,g.getAbsoluteUrl(),M)){if(I){var V="|"+g.traceID+"."+g.spanID;k.setRequestHeader(te.requestIdHeader,V),u&&(g.requestHeaders[te.requestIdHeader]=V)}var B=s.appId||f&&f.appId();if(B&&(k.setRequestHeader(te.requestContextHeader,te.requestContextAppIdFormat+B),u&&(g.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+B)),m){var Z=new so(g.traceID,g.spanID);k.setRequestHeader(te.traceParentHeader,Z.toString()),u&&(g.requestHeaders[te.traceParentHeader]=Z.toString())}}return k}},F[n]=function(g,P,N){if(p===-1||l<p){(s.distributedTracingMode===Ke.W3C||s.distributedTracingMode===Ke.AI_AND_W3C)&&typeof g.id=="string"&&g.id[g.id.length-1]!=="."&&(g.id+="."),x(g.startTime)&&(g.startTime=new Date);var k=rt.create(g,qe.dataType,qe.envelopeType,F[Nn](),P,N);F.core.track(k)}else l===p&&kn(F,h.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function Se(g){var P=!0;return(g||s.ignoreHeaders)&&R(s.ignoreHeaders,function(N){if(N.toLowerCase()===g.toLowerCase())return P=!1,-1}),P}function X(){var g=xl();if(!!g){var P=ot(),N=g.polyfill;s.disableFetchTracking===!1?(y.push(sn(P,Fn,{req:function(k,M,V){var B;if(a&&!pt(null,M,V)&&!(N&&o)){var Z=k.ctx();B=q(M,V);var ce=F.includeCorrelationHeaders(B,M,V);ce!==V&&k.set(1,ce),Z.data=B}},rsp:function(k,M){var V=k.ctx().data;V&&(k.rslt=k.rslt.then(function(B){return ie(k,(B||{}).status,B,V,function(){var Z={statusText:B.statusText,headerMap:null,correlationContext:Ht(B)};if(v){var ce={};B.headers.forEach(function(Ce,We){Se(We)&&(ce[We]=Ce)}),Z.headerMap=ce}return Z}),B}).catch(function(B){throw ie(k,0,M,V,null,{error:B.message}),B}))},hkErr:Rn(F,h.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):N&&y.push(sn(P,Fn,{req:function(k,M,V){pt(null,M,V)}})),N&&(P[Fn].polyfill=N)}}function me(g,P,N){y.push(Ea(g,P,N))}function De(){yl(F)&&!o&&(me(XMLHttpRequest,"open",{req:function(g,P,N,k){var M=g.inst,V=M[it];!pt(M,N)&&at(M,!0)&&(!V||!V.xhrMonitoringState.openDone)&&dt(M,P,N,k)},hkErr:Rn(F,h.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),me(XMLHttpRequest,"send",{req:function(g,P){var N=g.inst,k=N[it];at(N)&&!k.xhrMonitoringState.sendDone&&(z("xhr",k),k.requestSentTime=mr(),F.includeCorrelationHeaders(k,void 0,void 0,N),k.xhrMonitoringState.sendDone=!0)},hkErr:Rn(F,h.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),me(XMLHttpRequest,"abort",{req:function(g){var P=g.inst,N=P[it];at(P)&&!N.xhrMonitoringState.abortDone&&(N.aborted=1,N.xhrMonitoringState.abortDone=!0)},hkErr:Rn(F,h.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),u&&me(XMLHttpRequest,"setRequestHeader",{req:function(g,P,N){var k=g.inst;at(k)&&Se(P)&&(k[it].requestHeaders[P]=N)},hkErr:Rn(F,h.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),o=!0)}function pt(g,P,N){var k=!1,M=((_(P)?P:(P||{}).url||"")||"").toLowerCase();if(R(L,function(Z){var ce=Z;_(Z)&&(ce=new RegExp(Z)),k||(k=ce.test(M))}),k)return k;var V=Hr(M,"?"),B=Hr(M,"#");return(V===-1||B!==-1&&B<V)&&(V=B),V!==-1&&(M=M.substring(0,V)),x(g)?x(P)||(k=(typeof P=="object"?P[Et]===!0:!1)||(N?N[Et]===!0:!1)):k=g[Et]===!0||M[Et]===!0,k?w[M]||(w[M]=1):w[M]&&(k=!0),k}function at(g,P){var N=!0,k=o;return x(g)||(N=P===!0||!x(g[it])),k&&N}function dt(g,P,N,k){var M=f&&f.telemetryTrace&&f.telemetryTrace.traceID||He(),V=He().substr(0,16),B=new oo(M,V,F[Nn]());B.method=P,B.requestUrl=N,B.xhrMonitoringState.openDone=!0,B.requestHeaders={},B.async=k,g[it]=B,d(g)}function d(g){g[it].xhrMonitoringState.stateChangeAttached=Jt.Attach(g,"readystatechange",function(){try{g&&g.readyState===4&&at(g)&&A(g)}catch(N){var P=O(N);(!P||Hr(P.toLowerCase(),"c00c023f")===-1)&&kn(F,h.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Ti(g),exception:P})}})}function T(g){try{var P=g.responseType;if(P===""||P==="text")return g.responseText}catch(N){}return null}function A(g){var P=g[it];P.responseFinishedTime=mr(),P.status=g.status;function N(k,M){var V=M||{};V.ajaxDiagnosticsMessage=Ti(g),k&&(V.exception=O(k)),Ei(F,h.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",V)}U("xmlhttprequest",P,function(){try{var k=P.CreateTrackItem("Ajax",u,function(){var M={statusText:g.statusText,headerMap:null,correlationContext:D(g),type:g.responseType,responseText:T(g),response:g.response};if(v){var V=g.getAllResponseHeaders();if(V){var B=oe(V).split(/[\r\n]+/),Z={};R(B,function(ce){var Ce=ce.split(": "),We=Ce.shift(),yr=Ce.join(": ");Se(We)&&(Z[We]=yr)}),M.headerMap=Z}}return M});k?F[n](k):N(null,{requestSentTime:P.requestSentTime,responseFinishedTime:P.responseFinishedTime})}finally{try{g[it]=null}catch(M){}}},function(k){N(k,null)})}function D(g){try{var P=g.getAllResponseHeaders();if(P!==null){var N=Hr(P.toLowerCase(),te.requestContextHeaderLowerCase);if(N!==-1){var k=g.getResponseHeader(te.requestContextHeader);return Pt.getCorrelationContext(k)}}}catch(M){Ei(F,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Ti(g),exception:O(M)})}}function z(g,P){if(P.requestUrl&&E&&b){var N=Ye();if(N&&j(N.mark)){nu++;var k=E+g+"#"+nu;N.mark(k);var M=N.getEntriesByName(k);M&&M.length===1&&(P.perfMark=M[0])}}}function U(g,P,N,k){var M=P.perfMark,V=Ye(),B=s.maxAjaxPerfLookupAttempts,Z=s.ajaxPerfLookupDelay,ce=P.requestUrl,Ce=0;(function We(){try{if(V&&M){Ce++;for(var yr=null,fo=V.getEntries(),Pi=fo.length-1;Pi>=0;Pi--){var bt=fo[Pi];if(bt){if(bt.entryType==="resource")bt.initiatorType===g&&(Hr(bt.name,ce)!==-1||Hr(ce,bt.name)!==-1)&&(yr=bt);else if(bt.entryType==="mark"&&bt.name===M.name){P.perfTiming=yr;break}if(bt.startTime<M.startTime-1e3)break}}}!M||P.perfTiming||Ce>=B||P.async===!1?(M&&j(V.clearMarks)&&V.clearMarks(M.name),P.perfAttempts=Ce,N()):setTimeout(We,Z)}catch(gu){k(gu)}})()}function q(g,P){var N=f&&f.telemetryTrace&&f.telemetryTrace.traceID||He(),k=He().substr(0,16),M=new oo(N,k,F[Nn]());M.requestSentTime=mr(),g instanceof Request?M.requestUrl=g?g.url:"":M.requestUrl=g;var V="GET";P&&P.method?V=P.method:g&&g instanceof Request&&(V=g.method),M.method=V;var B={};if(u){var Z=new Headers((P?P.headers:0)||(g instanceof Request?g.headers||{}:{}));Z.forEach(function(ce,Ce){Se(Ce)&&(B[Ce]=ce)})}return M.requestHeaders=B,z("fetch",M),M}function $(g){var P="";try{x(g)||(typeof g=="string"?P+="(url: '"+g+"')":P+="(url: '"+g.url+"')")}catch(N){kn(F,h.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:O(N)})}return P}function ie(g,P,N,k,M,V){if(!k)return;function B(Z,ce,Ce){var We=Ce||{};We.fetchDiagnosticsMessage=$(N),ce&&(We.exception=O(ce)),Ei(F,Z,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",We)}k.responseFinishedTime=mr(),k.status=P,U("fetch",k,function(){var Z=k.CreateTrackItem("Fetch",u,M);Z?F[n](Z):B(h.FailedMonitorAjaxDur,null,{requestSentTime:k.requestSentTime,responseFinishedTime:k.responseFinishedTime})},function(Z){B(h.FailedMonitorAjaxGetCorrelationHeader,Z,null)})}function Ht(g){if(g&&g.headers)try{var P=g.headers.get(te.requestContextHeader);return Pt.getCorrelationContext(P)}catch(N){Ei(F,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:$(g),exception:O(N)})}}}),r}return e.getDefaultConfig=function(){var r={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Ke.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return r},e.getEmptyConfig=function(){var r=this.getDefaultConfig();return Q(r,function(n){r[n]=void 0}),r},e.prototype.processTelemetry=function(r,n){this.processNext(r,n)},e.identifier="AjaxDependencyPlugin",e}(tt)});var co=C(()=>{iu()});var uo,au,Sl,ou,wi,lo=C(()=>{J();Qa();no();ao();co();xe();au=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Sl={Default:0,Required:1,Array:2,Hidden:4},ou={__proto__:null,PropertiesPluginIdentifier:Ot,BreezeChannelIdentifier:_r,AnalyticsPluginIdentifier:yi,Util:Sn,CorrelationIdHelper:Pt,UrlHelper:_a,DateTimeUtils:Oa,ConnectionStringParser:ja,FieldType:Sl,RequestHeaders:te,DisabledPropertyName:Et,ProcessLegacy:Ut,SampleRate:lr,HttpMethod:Fr,DEFAULT_BREEZE_ENDPOINT:fn,AIData:In,AIBase:Cn,Envelope:Tn,Event:Be,Exception:he,Metric:Ve,PageView:Fe,PageViewData:gr,RemoteDependencyData:qe,Trace:$e,PageViewPerformance:Ze,Data:xt,SeverityLevel:_t,ConfigurationManager:Xa,ContextTagKeys:hr,DataSanitizer:Da,TelemetryItemCreator:rt,CtxTagKeys:re,Extensions:_e,DistributedTracingModes:Ke},wi=function(){function t(e){var r=this;r._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var i=di(n.connectionString),a=i.ingestionendpoint;n.endpointUrl=a?a+"/v2/track":n.endpointUrl,n.instrumentationKey=i.instrumentationkey||n.instrumentationKey}r.appInsights=new bn,r.properties=new An,r.dependencies=new Mn,r.core=new en,r._sender=new Dn,r.snippet=e,r.config=n,r.getSKUDefaults()}return t.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},t.prototype.trackEvent=function(e,r){this.appInsights.trackEvent(e,r)},t.prototype.trackPageView=function(e){var r=e||{};this.appInsights.trackPageView(r)},t.prototype.trackPageViewPerformance=function(e){var r=e||{};this.appInsights.trackPageViewPerformance(r)},t.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},t.prototype._onerror=function(e){this.appInsights._onerror(e)},t.prototype.trackTrace=function(e,r){this.appInsights.trackTrace(e,r)},t.prototype.trackMetric=function(e,r){this.appInsights.trackMetric(e,r)},t.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsights.stopTrackPage(e,r,n,i)},t.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsights.stopTrackEvent(e,r,n)},t.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){n===void 0&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},t.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},t.prototype.flush=function(e){var r=this;e===void 0&&(e=!0),ct(this.core,function(){return"AISKU.flush"},function(){R(r.core.getTransmissionControls(),function(n){R(n,function(i){i.flush(e)})})},null,e)},t.prototype.onunloadFlush=function(e){e===void 0&&(e=!0),R(this.core.getTransmissionControls(),function(r){R(r,function(n){n.onunloadFlush?n.onunloadFlush():n.flush(e)})})},t.prototype.loadAppInsights=function(e,r,n){var i=this;e===void 0&&(e=!1);var a=this;function o(c){if(c){var s="";x(a._snippetVersion)||(s+=a._snippetVersion),e&&(s+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=s||"-"),Q(a,function(u,l){_(u)&&!j(l)&&u&&u[0]!=="_"&&au.indexOf(u)===-1&&(c[u]=l)})}}return e&&a.config.extensions&&a.config.extensions.length>0&&Ae("Extensions not allowed in legacy mode"),ct(a.core,function(){return"AISKU.loadAppInsights"},function(){var c=[];c.push(a._sender),c.push(a.properties),c.push(a.dependencies),c.push(a.appInsights),a.core.initialize(a.config,c,r,n),a.context=a.properties.context,uo&&a.context&&(a.context.internal.sdkSrc=uo),o(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&au.indexOf(r)===-1})},t.prototype.emptyQueue=function(){var e=this;try{if(Re(e.snippet.queue)){for(var r=e.snippet.queue.length,n=0;n<r;n++){var i=e.snippet.queue[n];i()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(o){var a={};o&&j(o.toString)&&(a.exception=o.toString())}},t.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},t.prototype.addHousekeepingBeforeUnload=function(e){if(ar()||Wn()){var r=function(){e.onunloadFlush(!1),R(e.appInsights.core._extensions,function(i){if(i.identifier===Ot)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=Mt("beforeunload",r);n=Mt("unload",r)||n,n=Mt("pagehide",r)||n,n=Mt("visibilitychange",r)||n,!n&&!Qi()&&e.appInsights.core.logger.throwInternal(S.CRITICAL,h.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(Mt("pagehide",r),Mt("visibilitychange",r))}},t.prototype.getSender=function(){return this._sender},t.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},t}();(function(){var t=null,e=!1,r=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(t=n.src)}catch(c){}if(t)try{var i=t.toLowerCase();if(i){for(var a="",o=0;o<r.length;o++)if(i.indexOf(r[o])!==-1){a="cdn"+(o+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),uo=a+(e?".mod":"");break}}}catch(c){}})()});var Cl,su,cu=C(()=>{xe();J();Cl=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],su=function(){function t(e,r){this._hasLegacyInitializers=!1,this._queue=[],this.config=t.getDefaultConfig(e.config),this.appInsightsNew=r,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return t.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ee(e.enableDebug),e.disableExceptionTracking=ee(e.disableExceptionTracking),e.disableTelemetry=ee(e.disableTelemetry),e.verboseLogging=ee(e.verboseLogging),e.emitLineDelimitedJson=ee(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ee(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ee(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ee(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=ee(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ee(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ee(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ee(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=ee(e.isRetryDisabled),e.isCookieUseDisabled=ee(e.isCookieUseDisabled),e.isStorageUseDisabled=ee(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ee(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ee(e.enableCorsCorrelation),e},t.prototype.addTelemetryInitializers=function(e){var r=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(n){r._processLegacyInitializers(n)}),this._hasLegacyInitializers=!0),this._queue.push(e)},t.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},t.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsightsNew.stopTrackPage(e,r,n)},t.prototype.trackPageView=function(e,r,n,i,a){var o={name:e,uri:r,properties:n,measurements:i};this.appInsightsNew.trackPageView(o)},t.prototype.trackEvent=function(e,r,n){this.appInsightsNew.trackEvent({name:e})},t.prototype.trackDependency=function(e,r,n,i,a,o,c){this.appInsightsNew.trackDependencyData({id:e,target:n,type:i,duration:a,properties:{HttpMethod:r},success:o,responseCode:c})},t.prototype.trackException=function(e,r,n,i,a){this.appInsightsNew.trackException({exception:e})},t.prototype.trackMetric=function(e,r,n,i,a,o){this.appInsightsNew.trackMetric({name:e,average:r,sampleCount:n,min:i,max:a})},t.prototype.trackTrace=function(e,r,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},t.prototype.flush=function(e){this.appInsightsNew.flush(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},t.prototype._onerror=function(e,r,n,i,a){this.appInsightsNew._onerror({message:e,url:r,lineNumber:n,columnNumber:i,error:a})},t.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsightsNew.stopTrackEvent(e,r,n)},t.prototype.downloadAndSetup=function(e){Ae("downloadAndSetup not implemented in web SKU")},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&Cl.indexOf(r)===-1})},t.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var r=this.trackPageView;this.trackPageView=function(a,o,c){r.apply(e,[null,a,o,c])}}var n="logPageView";typeof this.snippet[n]=="function"&&(this[n]=function(a,o,c){e.trackPageView(null,a,o,c)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,o,c){e.trackEvent(a,o,c)}),this},t.prototype._processLegacyInitializers=function(e){return e.tags[Ut]=this._queue,e},t}()});var uu,lu=C(()=>{cu();lo();J();uu=function(){function t(){}return t.getAppInsights=function(e,r){var n=new wi(e),i=r!==2;if(Xt(),r===2)return n.updateSnippetDefinitions(e),n.loadAppInsights(i),n;var a=new su(e,n);return a.updateSnippetDefinitions(e),n.loadAppInsights(i),a},t}()});var fu={};hu(fu,{AppInsightsCore:()=>en,ApplicationAnalytics:()=>bn,ApplicationInsights:()=>wi,ApplicationInsightsContainer:()=>uu,BaseCore:()=>Zr,BaseTelemetryPlugin:()=>tt,CoreUtils:()=>on,DependenciesPlugin:()=>Mn,DistributedTracingModes:()=>Ke,Event:()=>Be,Exception:()=>he,LoggingSeverity:()=>S,Metric:()=>Ve,NotificationManager:()=>Qr,PageView:()=>Fe,PageViewPerformance:()=>Ze,PerfEvent:()=>sr,PerfManager:()=>Jr,PropertiesPlugin:()=>An,RemoteDependencyData:()=>qe,Sender:()=>Dn,SeverityLevel:()=>_t,Telemetry:()=>ou,Trace:()=>$e,Util:()=>Sn,_InternalMessageId:()=>h,doPerf:()=>ct});var pu=C(()=>{lo();lu();J();xe();no();Qa();ao();co()});import*as ue from"vscode";import{env as mo,workspace as xu}from"vscode";var Je;(function(n){n.ON="on",n.ERROR="error",n.OFF="off"})(Je||(Je={}));function jr(){let t="telemetry",e="enableTelemetry";return mo.isTelemetryEnabled!==void 0?mo.isTelemetryEnabled?Je.ON:Je.OFF:xu.getConfiguration(t).get(e)?Je.ON:Je.OFF}var bi=class{constructor(e,r,n,i,a){this.extensionId=e;this.extensionVersion=r;this.telemetryAppender=n;this.osShim=i;this.firstParty=!1;this.userOptIn=!1;this.errorOptIn=!1;this.disposables=[];this.firstParty=!!a,this.updateUserOptStatus(),ue.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(ue.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(ue.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(ue.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=jr();this.userOptIn=e===Je.ON,this.errorOptIn=e===Je.ERROR||e===Je.ON,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let r="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach(n=>{e.indexOf(`${n}+`)===0&&(r=n)}),r}get extension(){return this._extension===void 0&&(this._extension=ue.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,r){if(e===null||typeof e!="object"||typeof r!="function")return e;let n={};for(let i in e)n[i]=r(i,e[i]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?this.cleanRemoteName(ue.env.remoteName)!=="other"?!0:!(this.extension===void 0||this.extension.extensionKind===ue.ExtensionKind.Workspace||ue.env.uiKind===ue.UIKind.Web):!0}getCommonProperties(){let e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,ue&&ue.env){switch(e["common.vscodemachineid"]=ue.env.machineId,e["common.vscodesessionid"]=ue.env.sessionId,e["common.vscodeversion"]=ue.version,e["common.isnewappinstall"]=ue.env.isNewAppInstall?ue.env.isNewAppInstall.toString():"false",e["common.product"]=ue.env.appHost,ue.env.uiKind){case ue.UIKind.Web:e["common.uikind"]="web";break;case ue.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(ue.env.remoteName)}return e}anonymizeFilePaths(e,r){let n;if(e==null)return"";let i=[];ue.env.appRoot!==""&&i.push(new RegExp(ue.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&i.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let a=e;if(r){let o=[];for(let l of i)for(;(n=l.exec(e))&&n;)o.push([n.index,l.lastIndex]);let c=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,u=0;for(a="";(n=s.exec(e))&&n;)n[0]&&!c.test(n[0])&&o.every(([l,f])=>n.index<l||n.index>=f)&&(a+=e.substring(u,n.index)+"<REDACTED: user-file-path>",u=s.lastIndex);u<e.length&&(a+=e.substr(u))}for(let o of i)a=a.replace(o,"");return a}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let r=Object.create(null);for(let n of Object.keys(e)){let i=e[n];if(!i)continue;let a=/@[a-zA-Z0-9-.]+/;/\S*(key|token|sig|password|passwd|pwd)[="':\s]+\S*/.test(i.toLowerCase())?r[n]="<REDACTED: secret>":a.test(i)?r[n]="<REDACTED: email>":r[n]=i}return r}sendTelemetryEvent(e,r,n){if(this.userOptIn&&e!==""){r={...r,...this.getCommonProperties()};let i=this.cloneAndChange(r,(a,o)=>this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}sendTelemetryErrorEvent(e,r,n,i){if(this.errorOptIn&&e!==""){r={...r,...this.getCommonProperties()};let a=this.cloneAndChange(r,(o,c)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(c,this.firstParty):i===void 0||i.indexOf(o)!==-1?"REDACTED":this.anonymizeFilePaths(c,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(a),measurements:n})}}sendTelemetryException(e,r,n){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&e){r={...r,...this.getCommonProperties()};let i=this.cloneAndChange(r,(a,o)=>this.anonymizeFilePaths(o,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}};var du=class{constructor(e){this._key=e;this._isInstantiated=!1;jr()!==Je.OFF&&this.instantiateAppender()}logEvent(e,r){!this._aiClient||this._aiClient.trackEvent({name:e},{...r.properties,...r.measurements})}logException(e,r){!this._aiClient||this._aiClient.trackException({exception:e,properties:{...r.properties,...r.measurements}})}flush(){return this._aiClient&&(this._aiClient.flush(),this._aiClient=void 0),Promise.resolve(void 0)}instantiateAppender(){this._isInstantiated||Promise.resolve().then(()=>(pu(),fu)).then(e=>{let r;this._key&&this._key.indexOf("AIF-")===0&&(r="https://vortex.data.microsoft.com/collect/v1"),this._aiClient=new e.ApplicationInsights({config:{instrumentationKey:this._key,endpointUrl:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),this._aiClient.loadAppInsights();let n=jr();r&&(n===Je.ON||n===Je.ERROR)&&fetch(r).catch(()=>this._aiClient=void 0),this._isInstantiated=!0})}},mu=class extends bi{constructor(e,r,n,i){let a=new du(n);n&&n.indexOf("AIF-")===0&&(i=!0);super(e,r,a,{release:navigator.appVersion,platform:"web"},i)}};export{mu as default};
/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
